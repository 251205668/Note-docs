<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Springboot | 前端面试知识总结</title>
    <meta name="description" content="自家使用,暂不外传">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.6a4803ab.css" as="style"><link rel="preload" href="/assets/js/app.81dd3622.js" as="script"><link rel="preload" href="/assets/js/2.d1b1e148.js" as="script"><link rel="preload" href="/assets/js/28.cd87026d.js" as="script"><link rel="preload" href="/assets/js/4.a3faee54.js" as="script"><link rel="prefetch" href="/assets/js/10.42124fbe.js"><link rel="prefetch" href="/assets/js/11.bdef2e64.js"><link rel="prefetch" href="/assets/js/12.9c5e83ed.js"><link rel="prefetch" href="/assets/js/13.3db43aaf.js"><link rel="prefetch" href="/assets/js/14.8f2ec86d.js"><link rel="prefetch" href="/assets/js/15.c6286125.js"><link rel="prefetch" href="/assets/js/16.5da2b31d.js"><link rel="prefetch" href="/assets/js/17.c9deef07.js"><link rel="prefetch" href="/assets/js/18.13ed30af.js"><link rel="prefetch" href="/assets/js/19.f1a01180.js"><link rel="prefetch" href="/assets/js/20.30f7288c.js"><link rel="prefetch" href="/assets/js/21.477730e4.js"><link rel="prefetch" href="/assets/js/22.ab119ff1.js"><link rel="prefetch" href="/assets/js/23.9bbc22fc.js"><link rel="prefetch" href="/assets/js/24.cb1899b8.js"><link rel="prefetch" href="/assets/js/25.64669f1d.js"><link rel="prefetch" href="/assets/js/26.f3040183.js"><link rel="prefetch" href="/assets/js/27.2938dd4c.js"><link rel="prefetch" href="/assets/js/29.b92287f4.js"><link rel="prefetch" href="/assets/js/3.103e70cb.js"><link rel="prefetch" href="/assets/js/30.af43d48f.js"><link rel="prefetch" href="/assets/js/31.8c7148f5.js"><link rel="prefetch" href="/assets/js/32.d42beb3f.js"><link rel="prefetch" href="/assets/js/33.223bba8e.js"><link rel="prefetch" href="/assets/js/34.04b12083.js"><link rel="prefetch" href="/assets/js/35.19c65fa0.js"><link rel="prefetch" href="/assets/js/36.a1a664b9.js"><link rel="prefetch" href="/assets/js/37.d2e7a2dd.js"><link rel="prefetch" href="/assets/js/38.4f737159.js"><link rel="prefetch" href="/assets/js/39.fcdeadea.js"><link rel="prefetch" href="/assets/js/40.40a9daf9.js"><link rel="prefetch" href="/assets/js/5.2f32d917.js"><link rel="prefetch" href="/assets/js/6.d92ecc16.js"><link rel="prefetch" href="/assets/js/7.a09f8ef2.js"><link rel="prefetch" href="/assets/js/8.5b00daa2.js"><link rel="prefetch" href="/assets/js/9.9d06f44a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6a4803ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端面试知识总结</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/shop/" class="nav-link">
  大型电商
</a></li><li class="dropdown-item"><!----> <a href="/project/music/" class="nav-link">
  vue实现音乐app
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/shop/" class="nav-link">
  大型电商
</a></li><li class="dropdown-item"><!----> <a href="/project/music/" class="nav-link">
  vue实现音乐app
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>目录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" class="sidebar-link">项目介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>css基础到进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/css/test.html" class="sidebar-link">移动端问题</a></li><li><a href="/guide/css/layout.html" class="sidebar-link">前端常见布局</a></li><li><a href="/guide/css/alwaysCode.html" class="sidebar-link">常用css片段</a></li><li><a href="/guide/css/iconfont.html" class="sidebar-link">全局stylus配置及使用iconfont</a></li><li><a href="/guide/css/css-skill.html" class="sidebar-link">灵活使用css技巧</a></li><li><a href="/guide/css/code.html" class="sidebar-link">code pratice</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/js/base.html" class="sidebar-link">基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/js/higher.html" class="sidebar-link">js??</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MVVM分析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/vue/vue.html" class="sidebar-link">vue 基础部分</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack实战分析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Node.js基础到进阶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/node/koa.html" class="sidebar-link">基础</a></li><li><a href="/guide/node/springboot.html" class="active sidebar-link">Springboot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#springboot" class="sidebar-link">Springboot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#类和对象" class="sidebar-link">类和对象</a></li><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#修饰符" class="sidebar-link">修饰符</a></li><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#number-math-date" class="sidebar-link">Number,Math,Date</a></li><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#枚举-集合-泛型" class="sidebar-link">枚举 集合 泛型</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#springboot-2" class="sidebar-link">Springboot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#理解ioc-依赖注入" class="sidebar-link">理解IOC 依赖注入</a></li><li class="sidebar-sub-header"><a href="/guide/node/springboot.html#springboot阶段学习" class="sidebar-link">springboot阶段学习</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试题总结</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="springboot"><a href="#springboot" class="header-anchor">#</a> Springboot</h2> <h3 id="类和对象"><a href="#类和对象" class="header-anchor">#</a> 类和对象</h3> <h4 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h4> <p>一个类可以包含三种变量:<code>局部变量</code>，<code>成员变量</code>,<code>类变量</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">{</span>
    <span class="token comment">// 成员变量</span>
    <span class="token class-name">String</span> breed<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token class-name">String</span> color<span class="token punctuation">;</span>
    <span class="token comment">// 局部变量</span>
    <span class="token keyword">public</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token class-name">String</span> dogName<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
    <span class="token comment">// 类变量</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> username <span class="token operator">=</span> <span class="token string">'ZhangSan'</span>
    <span class="token keyword">void</span> <span class="token function">barking</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">hungry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="构造方法"><a href="#构造方法" class="header-anchor">#</a> 构造方法</h4> <p>用来初始化对象，一个对象必须要有一个构造方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pub</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Pub</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="创建对象"><a href="#创建对象" class="header-anchor">#</a> 创建对象</h4> <ul><li>声明</li> <li>实例化</li> <li>初始化属性</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;汽车名字:&quot;</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Car</span> car1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&quot;BMW&quot;</span><span class="token punctuation">)</span>
            <span class="token comment">// 汽车名字:BMW</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="访问成员变量"><a href="#访问成员变量" class="header-anchor">#</a> 访问成员变量</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">Car</span> car1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">'bmw'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 设置成员变量</span>
      car1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
      <span class="token comment">// 获取</span>
      car1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="继承-重写"><a href="#继承-重写" class="header-anchor">#</a> 继承 重写</h4> <p><strong>继承</strong></p> <p>公共类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span> 
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>  
    <span class="token keyword">private</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token class-name">String</span> myName<span class="token punctuation">,</span> <span class="token keyword">int</span> myid<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        name <span class="token operator">=</span> myName<span class="token punctuation">;</span> 
        id <span class="token operator">=</span> myid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">&quot;正在吃&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">&quot;正在睡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">introduction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;大家好！我是&quot;</span>         <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;号&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><p>子类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Penguin</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token class-name">Penguin</span><span class="token punctuation">(</span><span class="token class-name">String</span> myName<span class="token punctuation">,</span> <span class="token keyword">int</span> myid<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">super</span><span class="token punctuation">(</span>myName<span class="token punctuation">,</span> myid<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>如果父类的构造器带有参数，则必须在子类的构造器中显式地通过 <strong>super</strong> 关键字调用父类的构造器并配以适当的参数列表。</p> <p>如果父类构造器没有参数，则在子类的构造器中不需要使用 <strong>super</strong> 关键字调用父类构造器，系统会自动调用父类的无参构造器。</p></blockquote> <p>多继承接口</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token keyword">implements</span> <span class="token class-name">A</span><span class="token punctuation">,</span><span class="token class-name">B</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>子类调用父类方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;dog : eat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">void</span> <span class="token function">eatTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// this 调用自己的方法</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// super 调用父类方法</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>重写</strong></p> <p>子类对父类允许访问的方法进行重新编写， <strong>即外壳不变，核心重写！</strong></p> <p><img src="https://image.yangxiansheng.top/img/20200424233112.png?imagelist" alt=""></p> <p>例:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;动物可以移动&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;狗可以跑和走&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestDog</span><span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">Animal</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Animal 对象</span>
      <span class="token class-name">Animal</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Dog 对象</span>
 
      a<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 执行 Animal 类的方法</span>
 
      b<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//执行 Dog 类的方法</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="多态-抽象类"><a href="#多态-抽象类" class="header-anchor">#</a> 多态 抽象类</h4> <p>** 多态**</p> <p>同一个行为不同的实例进行不同操作</p> <p>多态例子：英雄分为 近战，射手 都可以进行杀敌行为</p> <h4 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h4> <p>接口（英文：Interface），在JAVA编程语言中是一个抽象类型，是抽象方法的集合，接口通常以interface来声明。一个类通过继承接口的方式，从而来继承接口的抽象方法。</p> <blockquote><p>接口支持多继承</p> <p>接口中的方法是不能在接口中实现的，只能由实现接口的类来实现接口中的方法。</p></blockquote> <p>例：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">travel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>实现类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/* 文件名 : MammalInt.java */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MammalInt</span> <span class="token keyword">implements</span> <span class="token class-name">Animal</span><span class="token punctuation">{</span>
 
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mammal eats&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">travel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mammal travels&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span> 
 
   <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">noOfLegs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token class-name">MammalInt</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MammalInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      m<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      m<span class="token punctuation">.</span><span class="token function">travel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h3> <h4 id="基本类型"><a href="#基本类型" class="header-anchor">#</a> 基本类型</h4> <ul><li>byte/8</li> <li>char/16</li> <li>short/16</li> <li>int/32</li> <li>float/32</li> <li>long/64</li> <li>double/64</li> <li>boolean/~</li></ul> <h4 id="装箱拆箱"><a href="#装箱拆箱" class="header-anchor">#</a> 装箱拆箱</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Integer</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//装箱</span>
<span class="token keyword">int</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token comment">// 拆箱</span>
</code></pre></div><h4 id="引用类型"><a href="#引用类型" class="header-anchor">#</a> 引用类型</h4> <p>对象，数组都是引用类型，引用类型指向一个对象，状态可以保存</p> <p>例子：Site site = new Site(&quot;Runoob&quot;)。</p> <h4 id="常量"><a href="#常量" class="header-anchor">#</a> 常量</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token keyword">double</span> PI <span class="token operator">=</span> <span class="token number">3.14</span>
</code></pre></div><h4 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h4> <ul><li><p>自动类型转换</p> <p>必须满足规则</p> <div class="language-java extra-class"><pre class="language-java"><code>低  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>  高

<span class="token keyword">byte</span><span class="token punctuation">,</span><span class="token keyword">short</span><span class="token punctuation">,</span><span class="token keyword">char</span>—<span class="token operator">&gt;</span> <span class="token keyword">int</span> —<span class="token operator">&gt;</span> <span class="token keyword">long</span>—<span class="token operator">&gt;</span> <span class="token keyword">float</span> —<span class="token operator">&gt;</span> <span class="token keyword">double</span> 
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">char</span> c1 <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a <span class="token operator">=</span> c1<span class="token punctuation">;</span>
<span class="token comment">// a =97</span>
</code></pre></div></li> <li><p>强制转换</p> <p>语法：<code>(type)value type</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span>i
</code></pre></div></li></ul> <h4 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h4> <p>常用转义字符</p> <p><img src="https://image.yangxiansheng.top/img/20200424214323.png?imagelist" alt=""></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">'runoob.com'</span>
</code></pre></div><p><strong>API</strong></p> <ul><li>concat 连接</li> <li>compareTo 比较是否相等 返回0</li> <li>endsWith 结尾</li> <li>indexOf 返回第一次出现索引</li> <li>lastIndexOf</li></ul> <h4 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h4> <p><strong>基础</strong></p> <ul><li><p>声明</p> <div class="language-java extra-class"><pre class="language-java"><code>dateType <span class="token punctuation">[</span><span class="token punctuation">]</span>arrayName<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>创建</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token number">1.</span> <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span>
<span class="token number">2.</span> <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>array <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>遍历</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>array <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

<span class="token comment">// 加强for</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> item<span class="token operator">:</span>array<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>数组作为函数参数，和函数返回数组</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>array<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
     <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>多维数组</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div></li></ul> <p><strong>API</strong></p> <p><img src="https://image.yangxiansheng.top/img/20200424231317.png?imagelist" alt=""></p> <h3 id="修饰符"><a href="#修饰符" class="header-anchor">#</a> 修饰符</h3> <h4 id="访问修饰符"><a href="#访问修饰符" class="header-anchor">#</a> 访问修饰符</h4> <ul><li>default 默认</li> <li>private 私有</li> <li>public 共有</li> <li>protected 同一包内可见，不能修饰外部类（接口）</li></ul> <h4 id="非访问修饰符"><a href="#非访问修饰符" class="header-anchor">#</a> 非访问修饰符</h4> <ul><li>static 静态方法，静态变量</li> <li>final 保持不变</li> <li>abstract 抽象类， 声明抽象类的唯一目的是为了将来对该类进行扩充 。</li> <li>synchronized 同一时间只能被一个线程访问</li></ul> <h3 id="number-math-date"><a href="#number-math-date" class="header-anchor">#</a> Number,Math,Date</h3> <h4 id="number，math"><a href="#number，math" class="header-anchor">#</a> Number，Math</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Integer</span> x <span class="token operator">=</span> <span class="token number">7</span> <span class="token comment">// 创建Number</span>
    
x<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token comment">//判断相等</span>
    
<span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//返回数据类型</span>
    
x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//转为字符串</span>

x<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 转int</span>

<span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 绝对值</span>
 
<span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//取整</span>

<span class="token class-name">Math</span><span class="token punctuation">.</span>round  <span class="token comment">// 四舍五入</span>
 
<span class="token class-name">Math</span><span class="token punctuation">.</span>min
<span class="token class-name">Math</span><span class="token punctuation">.</span>max

<span class="token class-name">Math</span><span class="token punctuation">.</span>random <span class="token comment">// 取随机数 0-1</span>
<span class="token comment">// 去区间随机数</span>
<span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">)</span>
 
</code></pre></div><h4 id="date"><a href="#date" class="header-anchor">#</a> <strong>Date</strong></h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 日期时间</span>

<span class="token class-name">SimpleDtaeFormat</span> ft <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd hh:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token comment">// 格式化类</span>
ft<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h4 id="calendar"><a href="#calendar" class="header-anchor">#</a> Calendar</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Calendar</span> c1 <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获得年份</span>
<span class="token keyword">int</span> year <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获得月份</span>
<span class="token keyword">int</span> month <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MONTH<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 获得日期</span>
<span class="token keyword">int</span> date <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获得小时</span>
<span class="token keyword">int</span> hour <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>HOUR_OF_DAY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获得分钟</span>
<span class="token keyword">int</span> minute <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>MINUTE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获得秒</span>
<span class="token keyword">int</span> second <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>SECOND<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 获得星期几（注意（这个与Date类是不同的）：1代表星期日、2代表星期1、3代表星期二，以此类推）</span>
<span class="token keyword">int</span> day <span class="token operator">=</span> c1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_WEEK<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="枚举-集合-泛型"><a href="#枚举-集合-泛型" class="header-anchor">#</a> 枚举 集合 泛型</h3> <h4 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h4> <p>枚举:参考文章   <a href="https://www.runoob.com/java/java-enumeration-interface.html" target="_blank" rel="noopener noreferrer">地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>集合</p> <ul><li><p>Collection 接口</p></li> <li><p>List 接口</p></li> <li><p>Set 接口</p></li> <li><p>Map  键值队</p></li> <li><p>Enumeration</p> <p><img src="https://image.yangxiansheng.top/img/20200424234934.png?imagelist" alt=""></p></li></ul> <h4 id="使用实例"><a href="#使用实例" class="header-anchor">#</a> 使用实例</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 声明数组集合</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 遍历方法</span>

<span class="token keyword">for</span> <span class="token operator">-</span> <span class="token class-name">Each</span>循环
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> item <span class="token operator">:</span>list<span class="token punctuation">)</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>

迭代器循环
<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ite <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span>ite<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
<span class="token punctuation">}</span>


<span class="token class-name">Map</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      
      <span class="token comment">//第一种：普遍使用，二次取值</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;通过Map.keySet遍历key和value：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;key= &quot;</span><span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">&quot; and value= &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token comment">//第二种</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;通过Map.entrySet使用iterator遍历key和value：&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token class-name">Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;key= &quot;</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; and value= &quot;</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      
      <span class="token comment">//第三种：推荐，尤其是容量大时</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;通过Map.entrySet遍历key和value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">.</span><span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> entry <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;key= &quot;</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; and value= &quot;</span> <span class="token operator">+</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    
      <span class="token comment">//第四种</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;通过Map.values()遍历所有的value，但不能遍历key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> v <span class="token operator">:</span> map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;value= &quot;</span> <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
</code></pre></div><h2 id="springboot-2"><a href="#springboot-2" class="header-anchor">#</a> Springboot</h2> <h3 id="理解ioc-依赖注入"><a href="#理解ioc-依赖注入" class="header-anchor">#</a> 理解IOC 依赖注入</h3> <h4 id="ioc"><a href="#ioc" class="header-anchor">#</a> IOC</h4> <p><code>IOC</code>- 控制反转，在传统<code>SE</code>阶段如果<code>A</code>类需要使用到<code>B</code>类，需要在<code>A</code>的内部<code>new</code>一个<code>B</code>的实例出来，进而控制对象内部。<strong>而<code>IOC</code>专门有一个<code>容器</code>来创建这些依赖的对象</strong>，然后控制要交给<code>A</code>类哪些依赖。至于为什么叫<code>反转</code>,因为传统的获取依赖对象是<code>对象主动去控制</code>，而<code>IOC</code>的控制交给了容器，容器帮忙创建注入依赖对象，此时<code>A</code>对象只是<code>被动的接收依赖的注入</code>。</p> <ul><li><code>IOC</code>容器控制对象，主要控制外部资源获取</li> <li>容器帮忙创建并注入依赖对象，程序被动接受<code>依赖对象</code></li></ul> <h4 id="di"><a href="#di" class="header-anchor">#</a> DI</h4> <p><code>DI</code>-依赖注入，容器将某个依赖关系注入到组件中去。依赖注入组件<code>重用</code>的频率，依赖注入是<code>IOC</code>思想最好的表现形式。</p> <ul><li><p><strong>谁依赖谁</strong>：<code>应用程序</code>依赖于<code>IOC</code>容器</p></li> <li><p><strong>为什么要使用<code>DI</code></strong>：应用程序需要<code>IOC</code>提供提供对象外部资源</p></li> <li><p><strong>谁注入谁</strong>:<code>IOC</code>注入应用程序的对象</p></li></ul> <h4 id="我的理解"><a href="#我的理解" class="header-anchor">#</a> 我的理解</h4> <blockquote><p><code>IOC</code>的出现解决了传统java开发应用程序，对象与对象之间耦合性，<code>A</code>需要<code>B</code>，<code>A</code>就要主动创建<code>B</code>对象，进行控制，这样<code>A</code>和<code>B</code>就产生了依赖，而且是紧密耦合性。<code>IOC</code>则不同，我们只需要吧需要的依赖在<code>容器</code>中创建好，然后要的时候由<code>容器</code>进行注入,<code>A</code>对象根本不用去管<code>B</code>以及更多依赖的问题，只需要交给容器处理，二者协作进行即可。</p></blockquote> <h3 id="springboot阶段学习"><a href="#springboot阶段学习" class="header-anchor">#</a> springboot阶段学习</h3> <h4 id="版本号"><a href="#版本号" class="header-anchor">#</a> 版本号</h4> <p>2.2.1 RELEASE</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>2 主版本
2 次版本 新特性 发布新特性 要保证兼容
1 增量版本 bug修复
RELEASE 发布版本 、 里程碑版本


RC 
Alpha 内测
Beta 发行 但不稳定
GA （General Availability） 官方通用
SHAPSHOT
</code></pre></div><h4 id="运行springboot项目"><a href="#运行springboot项目" class="header-anchor">#</a> 运行springboot项目</h4> <p>在官网中创建项目然后用idea打开，或者直接创建<code>springboot项目</code></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token list punctuation">-</span> 打开 idea -&gt; create project
<span class="token list punctuation">-</span> 选择左侧 Spring Initializr
  <span class="token list punctuation">-</span> 选择你的 java版本 如 8
  <span class="token list punctuation">-</span> next
<span class="token list punctuation">-</span> Group: com.公司名
<span class="token list punctuation">-</span> artifact : 你的项目名
<span class="token list punctuation">-</span> Type: 选 maven
<span class="token list punctuation">-</span> Language: Java
<span class="token list punctuation">-</span> Packaging: Jar
<span class="token list punctuation">-</span> java version:8
<span class="token list punctuation">-</span> 点击最下方的 Next
<span class="token list punctuation">-</span> Spring Boot 选择 2.2.x
<span class="token list punctuation">-</span> Dependencies 选择 web 下的 spring web 
<span class="token list punctuation">-</span> Next
<span class="token list punctuation">-</span> Finish
</code></pre></div><p>修改默认端口</p> <blockquote><p>resources/application.properties 下添加</p> <p>server.port = 端口号</p></blockquote> <h4 id="编写第一个接口"><a href="#编写第一个接口" class="header-anchor">#</a> 编写第一个接口</h4> <p>创建<code>api.v1/api.v2</code>文件夹管理<code>api</code>，然后创建一个控制器类.</p> <div class="language-java extra-class"><pre class="language-java"><code>分为三步
<span class="token number">1.</span> 编写返回方法
<span class="token number">2.</span> 插入注解
<span class="token number">3.</span> 返回结果

<span class="token comment">// 控制器注解</span>
<span class="token annotation punctuation">@Controller</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BannerController</span><span class="token punctuation">{</span>
    <span class="token comment">// 路由注解</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 处理返回结果注解 相当于操作了 HttpServletresponse 的打印器方法</span>
    <span class="token annotation punctuation">@ResponseBody</span>  
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello,springboot&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="配置热重启"><a href="#配置热重启" class="header-anchor">#</a> 配置热重启</h4> <p>安装<code>devtools</code>，然后配置idea</p> <ul><li>搜索 Compiler</li> <li>勾选 build project automatically</li></ul> <h4 id="常见注解"><a href="#常见注解" class="header-anchor">#</a> 常见注解</h4> <ul><li><p>请求method限定</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 全方法都支持</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/test&quot;</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>DELETE<span class="token punctuation">,</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// method传递支持的方法</span>
</code></pre></div></li> <li><p>Springboot 提供的 简化注解</p></li></ul> <p><code>@RestController</code> 意思就是</p> <div class="language- extra-class"><pre class="language-text"><code>@Controller
@ResponseBody
</code></pre></div><h4 id="统一路径管理"><a href="#统一路径管理" class="header-anchor">#</a> 统一路径管理</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/v1&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BannerController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;七月,牛逼&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="深刻理解springboot"><a href="#深刻理解springboot" class="header-anchor">#</a> 深刻理解springboot</h4> <h5 id="开闭原则-ocp"><a href="#开闭原则-ocp" class="header-anchor">#</a> 开闭原则-OCP</h5> <p>软件，函数，类是扩展开发的，修改是封闭的。举例说明：修改业务最好是通过新增业务模块进行处理，API的<code>v1</code>和<code>v2</code>版本的使用。</p> <h5 id="面向抽象编程"><a href="#面向抽象编程" class="header-anchor">#</a> 面向抽象编程</h5> <p><code>interface</code> ，设计模式:<code>工厂模式</code>，<code>IOC/DI</code></p> <p>如果是具体类的话，修改是灾难性的。面向抽象的话，只需要调方法即可。<strong>真正的目的就是实现开闭原则从而达到代码可维护性。</strong></p> <blockquote><p>springboot和springframework的区别</p> <p>springboot 借助springframework开发的</p></blockquote> <h5 id="spring、springmvc与springboot的关系与区别"><a href="#spring、springmvc与springboot的关系与区别" class="header-anchor">#</a> Spring、SpringMVC与SpringBoot的关系与区别</h5> <blockquote><p>SSM <code>Spring + SpringMVC + MyBatis</code></p></blockquote> <p>Spring 全称是 Spring Framework</p> <ul><li>SpringBoot 是 Spring Framework 的应用</li></ul> <h5 id="什么是springboot核心优势-自动配置"><a href="#什么是springboot核心优势-自动配置" class="header-anchor">#</a> 什么是SpringBoot核心优势-自动配置</h5> <h5 id="springboot意义性-死记"><a href="#springboot意义性-死记" class="header-anchor">#</a> Springboot意义性(死记)</h5> <blockquote><p>OCP -&gt; IOC</p></blockquote> <ul><li><p>IOC实现： 容器，把控制类加入 容器 ，在你需要时把对象注入你所需要的代码里去</p></li> <li><p>抽象意义：控制权交给用户</p></li></ul> <h5 id="如何将对象加入容器-并注入"><a href="#如何将对象加入容器-并注入" class="header-anchor">#</a> 如何将对象加入容器,并注入</h5> <ul><li><p>xml</p></li> <li><p>注解</p> <ul><li><p><code>stereotype annotations</code> 模式注解,<code>两步</code></p> <div class="language-java extra-class"><pre class="language-java"><code>加入容器
<span class="token annotation punctuation">@Component</span>  
扫描加入容器注解
<span class="token annotation punctuation">@service</span> 
加入服务层容器
    
使用的时候，注入<span class="token punctuation">,</span>已经实例化
<span class="token annotation punctuation">@Autowired</span>

<span class="token number">1.</span>成员变量注入
<span class="token keyword">private</span> <span class="token class-name">Diana</span> diana

<span class="token number">2.</span>推荐注入方式：构造器，不需要加入注解<span class="token annotation punctuation">@Autowired</span>
 <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Diana</span> diana<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">BannerController</span><span class="token punctuation">(</span><span class="token class-name">Diana</span> diana<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>diana <span class="token operator">=</span> diana<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul> <div class="language- extra-class"><pre class="language-text"><code>    
    - `@Component` 最基础的模式注解
  - 把一个组件/类/bean加入到容器中
    
&gt; 以下都是以 `@Component` 为基础的衍生注解
    
    - `@Service` 标明是种服务
    - `@Controller` 标明是个控制器
    - `@RestController` 标明是个restful 的 控制器 
    - `@Repository` 标明是个仓储
    - `@Configuration` 更灵活的方式 把一组bean加入到容器里
      - 跟上面的有些不同
      - 具体参考[@Configuration 注解介绍](

##### 实例化时机和延时实例化

&gt; 如何允许 未添加 `@Component` 注解的类 为空值

</code></pre></div><p>@Autowired(required = false)
private Diana diana;</p> <div class="language- extra-class"><pre class="language-text"><code>
&gt; IOC 对象实例化注入时机

- 在Spring启动的时候就开始 对象的实例化 并注入
- 这是一个默认的机制 **立即/提前 实例化**
  
    - 延迟实例化 `@Lazy`
    
      

##### @Autowired 类型注入方式

预设环境，多个类实现接口，并且加入到容器，使用`@Autowired`注入会加载哪一个实现

&lt;h2&gt;被动注入&lt;/h2&gt;
- **bytype** 默认注入形式

  - 根据类型推断到底应该注入谁

  - 比如上面的如果注入 ISkill 就会去所有加入到容器里的bean去寻找实现ISkill的类 加入进来

</code></pre></div><div class="language- extra-class"><pre><code>@Autowired
private ISkill iSkill;
```

- **如果仅仅有一个实现类 Diana 那就会加载它**
- **如果有多个bean时候，字段找不到对应的`bean`， spring就不知道到底该注入谁。就会报错**
</code></pre></div><ul><li><strong>byname</strong></li></ul> <h2>主动注入</h2>
强制设置注入的`value`
<div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;irelia&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">ISkill</span> iSkill<span class="token punctuation">;</span>

<span class="token comment">// 这样它就会 按你要求注入 Irelia</span>
</code></pre></div><h5 id="如何应对变化"><a href="#如何应对变化" class="header-anchor">#</a> 如何应对变化</h5> <ol><li><p><strong>制定一个 interface ,然后多个类实现同一个 interface.</strong></p> <ul><li>策略模式</li> <li>只能选一个策略</li></ul></li> <li><p><strong>一个类，属性 解决变化</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 比如你只有一个实现类 Diana ，但你想打印 irelia</span>

<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>lin<span class="token punctuation">.</span>missyou<span class="token punctuation">.</span>sample<span class="token punctuation">.</span>hero</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>lin<span class="token punctuation">.</span>missyou<span class="token punctuation">.</span>sample</span><span class="token punctuation">.</span><span class="token class-name">ISkill</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype</span><span class="token punctuation">.</span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Diana</span>  <span class="token keyword">implements</span> <span class="token class-name">ISkill</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> skillName <span class="token operator">=</span> <span class="token string">&quot;Irelia&quot;</span>
    <span class="token keyword">public</span> <span class="token class-name">Diana</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello,Diana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">q</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Diana Q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">w</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Diana W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Diana E&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>skillName <span class="token operator">+</span> <span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre></div><ul><li>像这样实际上是不好的，因为在代码里了。</li> <li>如果你要用这样方式： <strong>应该用读取配置的方式</strong> 这样才不违背 OCP 原则
<ul><li>比如 spring boot 默认 8080 端口，你可以通过修改配置文件 让他启动在其他端口</li> <li>这种方式不具备 扩展性，如果未来你想添加新的属性，就要改这个类了，也不够灵活。除非你保证以后这个类不再变了</li></ul></li></ul></li></ol> <h5 id="configuration注解使用方法"><a href="#configuration注解使用方法" class="header-anchor">#</a> @configuration注解使用方法</h5> <ul><li>新建 HeroConfiguration.java
<ol><li><p>在 HeroConfiguration上 使用 <code>@Configuration</code></p></li> <li><p>对注入的对象 Camille 使用<code>@Bean</code>，返回一个<code>bean</code>实例</p></li></ol></li></ul> <div class="language- extra-class"><pre class="language-text"><code>@Configuration
public class HeroConfiguration {
    @Bean
    public ISkill camille(){
        return new Camille();
    }
}
</code></pre></div><ul><li>控制器类里稍微修改下</li></ul> <div class="language- extra-class"><pre class="language-text"><code>@RestController
@RequestMapping(&quot;/v1/banner&quot;)
public class BannerController {

    @Autowired
    private ISkill camille;

    @GetMapping(&quot;/test&quot;)
    public String test2() {
        camille.q();
        return &quot;Hello,亚瑟&quot;;
    }
}
</code></pre></div><p><strong>优势</strong></p> <blockquote><p>如果我们的 hero 类 新增了属性那么如何初始化</p></blockquote> <ul><li><code>@Component</code> 是<strong>无法做到把 类的属性进行初始化的</strong></li> <li><code>@Configuration</code> 则可以</li> <li><code>@Configuration</code> 还能同时初始化多个 bean</li></ul> <p>Camille.java</p> <ul><li>新增了 name / age 字段 并在构造器里赋值</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Camille</span> <span class="token keyword">implements</span> <span class="token class-name">ISkill</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Camille</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Camille</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello,Camille&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">q</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Camille Q&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">w</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Camille W&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Camille E&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Camille r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>HeroConfiguration.java 里只需要这样就可以实现</p> <ul><li>即使你想调用无参构造器 ，也可用通过 setName / setAge 在 return camille</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HeroConfiguration</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ISkill</span> <span class="token function">camille</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Camille</span><span class="token punctuation">(</span><span class="token string">&quot;camille&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
     <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ISkill</span> <span class="token function">diana</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Diana</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="springboot扫描注解"><a href="#springboot扫描注解" class="header-anchor">#</a> springboot扫描注解</h5> <p>默认是与程序主入口文件夹下</p> <p><code>@ComponentScan(&quot;path&quot;)</code></p> <blockquote><p>手动指定你想要加载其他位置的包</p></blockquote> <ul><li>如果手动指定的路径 已经在默认路径里会标红</li> <li>新增的扫描位置是不影响原来的扫描位置，是可以叠加的</li></ul> <div class="language- extra-class"><pre class="language-text"><code>@SpringBootApplication
@ComponentScan(&quot;com.lin&quot;)
public class MissyouApplication {
    public static void main(String[] args) {
        SpringApplication.run(MissyouApplication.class, args);
    }
}
</code></pre></div><h5 id="策略模式实现的几种方式"><a href="#策略模式实现的几种方式" class="header-anchor">#</a> 策略模式实现的几种方式</h5> <ol><li><p><code>byname 方式</code> 切换 bean的 name</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">Iskill</span> diana
</code></pre></div></li> <li><p><code>@Qualifier</code> 指定 bean</p> <div class="language-java extra-class"><pre class="language-java"><code>多个bean情况下

<span class="token annotation punctuation">@Autowired</span>
<span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">&quot;diana&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Isskill</span> isskill
</code></pre></div></li> <li><p><strong>有选择的只注入一个 bean 注释掉某个 bean的 @Component</strong></p></li> <li><p><code>@Primary</code></p> <ul><li>如果同时 Diana 和 Irelia 同时加上了 @Component</li> <li>如果定义的时候是 ISkill iskill 那么会报错</li> <li>可以想让 Diana 生效则 额外添加<code>@Primary</code></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Primary</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Diana</span>  <span class="token keyword">implements</span> <span class="token class-name">ISkill</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h5 id="条件注解"><a href="#条件注解" class="header-anchor">#</a> 条件注解</h5> <p>配置类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@configuarition</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HeroConfiguarition</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ISkill</span> <span class="token function">iskill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Dinaa</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 可以有多个bean</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>自定义条件注解</p></blockquote> <p><strong><code>@Conditional</code> + 实现Condition 接口的元类</strong></p> <ul><li><p>分别注释掉 Diana 和 Irelia 里的 <code>@Component</code></p></li> <li><p>修改 HeroConfiguration.java</p> <div class="language- extra-class"><pre class="language-text"><code>@Configuration
public class HeroConfiguration {

    @Bean
    @Conditional(DianaCondition.class)
    public ISkill diana(){
        return new Diana();
    }

    @Bean
    @Conditional(IreliaCondition.class)
    public ISkill irelia(){
        return new Irelia();
    }
}
</code></pre></div></li> <li><p>DianaCondition.java / IreliaCondition.java</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 注意 java 很多类都有 Condition 这里引入 spring framework的
import org.springframework.context.annotation.Condition;

public class DianaCondition implements Condition {
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        // 判断条件
        return true;
    }
}


public class IreliaCondition implements Condition {
    @Override
    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {
        // 判断条件
        return false;
    }
}
</code></pre></div><h4 id="二次封装springboot框架机制"><a href="#二次封装springboot框架机制" class="header-anchor">#</a> 二次封装springboot框架机制</h4> <h5 id="异常处理概念"><a href="#异常处理概念" class="header-anchor">#</a> 异常处理概念</h5> <p>统一异常捕获</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalException</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>异常分类</strong></p> <blockquote><p><strong><code>CheckedException</code></strong> 受检异常  (可以处理，比如是A类调用B类的方法，但是B类没有方法)</p></blockquote> <ul><li>编译阶段进行处理，否则编译通不过.</li> <li>必须程序里主动处理</li></ul> <blockquote><p><strong><code>RuntimeException</code></strong> 运行时异常（不能处理，比如数据库记录查询结果为空）</p></blockquote> <ul><li>可以不处理</li></ul> <blockquote><p>对于web如果有全局的异常处理</p></blockquote> <ul><li>可以不区分</li></ul> <h5 id="全局异常处理步骤"><a href="#全局异常处理步骤" class="header-anchor">#</a> 全局异常处理步骤</h5> <blockquote><p>处理的异常分为<strong>已知异常或者未知异常</strong></p></blockquote> <h6 id="_1-定义httpexception类，继承runtimeexception"><a href="#_1-定义httpexception类，继承runtimeexception" class="header-anchor">#</a> 1. 定义<code>HttpException类</code>，继承<code>RuntimeException</code></h6> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HttpException</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">Integer</span> code<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">Integer</span> <span class="token class-name">HttpstatusCode</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><h6 id="_2-基类子异常，比如notfoundexception"><a href="#_2-基类子异常，比如notfoundexception" class="header-anchor">#</a> 2. 基类子异常，比如<code>NotFoundException</code></h6> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NotFoundException</span> <span class="token keyword">extends</span> <span class="token class-name">HttpException</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">NotFoundException</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token class-name">HttpstatusCode</span> <span class="token operator">=</span> <span class="token number">404</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="_3-定义统一异常返回格式类-，构造函数初始化属性，并且一定要有getter方法，否则无法访问"><a href="#_3-定义统一异常返回格式类-，构造函数初始化属性，并且一定要有getter方法，否则无法访问" class="header-anchor">#</a> 3. 定义统一异常返回格式类 ，构造函数初始化属性，并且一定要有<code>getter</code>方法，否则无法访问</h6> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UnifyException</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> code<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> request<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UnifyException</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">String</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>request <span class="token operator">=</span> request<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCode</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> request<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRequest</span><span class="token punctuation">(</span><span class="token class-name">String</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>request <span class="token operator">=</span> request<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h6 id="_4-全局捕捉异常类globalexception，分为已知异常和未知异常"><a href="#_4-全局捕捉异常类globalexception，分为已知异常和未知异常" class="header-anchor">#</a> 4. 全局捕捉异常类<code>GlobalException</code>，分为<code>已知异常</code>和<code>未知异常</code></h6> <p><code>@ControllerAdvice</code>捕获异常注解</p> <div class="language- extra-class"><pre><code>` @ExceptionHandler(value = Exception.class)`捕获到进行处理的注解
</code></pre></div><p><code>@ResponseStatus(code = HttpStatus.INTERNAL_SERVER_ERROR)</code>设置状态码</p> <p>可以通过<code>req</code>获取<code>method</code>,<code>url</code>,</p> <ul><li>已知异常: 处理<code>Exception</code>，设置HttpstatusCode为500，然后返回<code>UnifyException</code></li> <li>未知异常: 使用 <code>ResponseEntity&lt;UnifyException&gt;</code>定义一个泛型，然后返回这个泛型，需要传入三个参数，<code>message</code>,<code>header</code>，<code>HttpStatusCode</code></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 加载配置文件关联的类 处理message</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ExceptionCodeConfiguration</span> codeConfiguration<span class="token punctuation">;</span>
    <span class="token comment">// 未知异常</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseStatus</span><span class="token punctuation">(</span>code <span class="token operator">=</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>INTERNAL_SERVER_ERROR<span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">UnifyException</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 当有checkedException异常抛出,加上这两个方法,会在全局捕捉到异常,并运行方法</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span>req<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UnifyException</span> message <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UnifyException</span><span class="token punctuation">(</span><span class="token number">999</span><span class="token punctuation">,</span><span class="token string">&quot;服务器异常&quot;</span><span class="token punctuation">,</span>method<span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 返回对象序列化</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   
    <span class="token comment">// 已知异常</span>
   <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">HttpException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UnifyException</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleHttpException</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">UnifyException</span> message <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UnifyException</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>codeConfiguration<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>method<span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 设置已知异常的Httpstatus 利用泛型设置</span>
        <span class="token comment">//ResponseEntity&lt;UnifyResponse&gt; r = new ResponseEntity&lt;&gt;(message,header,httpStatus);</span>
        <span class="token comment">// 处理返回的 header httpstatus</span>
        <span class="token class-name">HttpHeaders</span> header <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        header<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span><span class="token punctuation">.</span>APPLICATION_JSON<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">HttpStatus</span> httpStatus <span class="token operator">=</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getHttpstatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UnifyException</span><span class="token punctuation">&gt;</span></span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>message<span class="token punctuation">,</span>header<span class="token punctuation">,</span>httpStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://image.yangxiansheng.top/img/20200429000523.png?imagelist" alt=""></p> <p><img src="C:%5CUsers%5C%E5%8A%AA%E5%8A%9B%E4%B8%AD%E7%9A%84%E6%9D%A8%E5%85%88%E7%94%9F%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1588089946065.png" alt="1588089946065"></p> <h6 id="自定义配置文件关联类"><a href="#自定义配置文件关联类" class="header-anchor">#</a> 自定义配置文件关联类</h6> <p>首先定义一个文件管理<code>code</code>码对应的<code>message</code>,俗称错误码清单</p> <div class="language-java extra-class"><pre class="language-java"><code>lin<span class="token punctuation">.</span>codes<span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span> <span class="token operator">=</span> 通用异常
lin<span class="token punctuation">.</span>codes<span class="token punctuation">[</span><span class="token number">10001</span><span class="token punctuation">]</span><span class="token operator">=</span> 通用参数异常
</code></pre></div><p>然后，定义一个<code>configuration</code>类对配置文件进行关联，将<code>codes</code>看做是<code>Map</code>数据结构，然后定义方法获取到<code>message</code></p> <blockquote><p>@ConfigurationProperties(prefix = &quot;lin&quot;)  配置前缀
@PropertySource(value = &quot;classpath:config/exception-code.properties&quot;) 加载配置文件路径
@Component</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;lin&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;classpath:config/exception-code.properties&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ExceptionCodeConfiguration</span> <span class="token punctuation">{</span>
<span class="token comment">/*
  codes看做是 Map数据结构，键值对应
 */</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span>codes<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> codes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCodes</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> codes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>codes <span class="token operator">=</span> codes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token keyword">int</span> code<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> message <span class="token operator">=</span> codes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last update:</span> <span class="time">5/10/2020, 10:56:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/node/koa.html" class="prev">
        基础
      </a></span> <span class="next"><a href="/guide/interview/test.html">
        JS基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.81dd3622.js" defer></script><script src="/assets/js/2.d1b1e148.js" defer></script><script src="/assets/js/28.cd87026d.js" defer></script><script src="/assets/js/4.a3faee54.js" defer></script>
  </body>
</html>
