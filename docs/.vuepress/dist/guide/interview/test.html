<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS基础 | 前端面试知识总结</title>
    <meta name="description" content="自家使用,暂不外传">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.6a4803ab.css" as="style"><link rel="preload" href="/assets/js/app.81dd3622.js" as="script"><link rel="preload" href="/assets/js/2.d1b1e148.js" as="script"><link rel="preload" href="/assets/js/22.ab119ff1.js" as="script"><link rel="preload" href="/assets/js/4.a3faee54.js" as="script"><link rel="prefetch" href="/assets/js/10.42124fbe.js"><link rel="prefetch" href="/assets/js/11.bdef2e64.js"><link rel="prefetch" href="/assets/js/12.9c5e83ed.js"><link rel="prefetch" href="/assets/js/13.3db43aaf.js"><link rel="prefetch" href="/assets/js/14.8f2ec86d.js"><link rel="prefetch" href="/assets/js/15.c6286125.js"><link rel="prefetch" href="/assets/js/16.5da2b31d.js"><link rel="prefetch" href="/assets/js/17.c9deef07.js"><link rel="prefetch" href="/assets/js/18.13ed30af.js"><link rel="prefetch" href="/assets/js/19.f1a01180.js"><link rel="prefetch" href="/assets/js/20.30f7288c.js"><link rel="prefetch" href="/assets/js/21.477730e4.js"><link rel="prefetch" href="/assets/js/23.9bbc22fc.js"><link rel="prefetch" href="/assets/js/24.cb1899b8.js"><link rel="prefetch" href="/assets/js/25.64669f1d.js"><link rel="prefetch" href="/assets/js/26.f3040183.js"><link rel="prefetch" href="/assets/js/27.2938dd4c.js"><link rel="prefetch" href="/assets/js/28.cd87026d.js"><link rel="prefetch" href="/assets/js/29.b92287f4.js"><link rel="prefetch" href="/assets/js/3.103e70cb.js"><link rel="prefetch" href="/assets/js/30.af43d48f.js"><link rel="prefetch" href="/assets/js/31.8c7148f5.js"><link rel="prefetch" href="/assets/js/32.d42beb3f.js"><link rel="prefetch" href="/assets/js/33.223bba8e.js"><link rel="prefetch" href="/assets/js/34.04b12083.js"><link rel="prefetch" href="/assets/js/35.19c65fa0.js"><link rel="prefetch" href="/assets/js/36.a1a664b9.js"><link rel="prefetch" href="/assets/js/37.d2e7a2dd.js"><link rel="prefetch" href="/assets/js/38.4f737159.js"><link rel="prefetch" href="/assets/js/39.fcdeadea.js"><link rel="prefetch" href="/assets/js/40.40a9daf9.js"><link rel="prefetch" href="/assets/js/5.2f32d917.js"><link rel="prefetch" href="/assets/js/6.d92ecc16.js"><link rel="prefetch" href="/assets/js/7.a09f8ef2.js"><link rel="prefetch" href="/assets/js/8.5b00daa2.js"><link rel="prefetch" href="/assets/js/9.9d06f44a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6a4803ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端面试知识总结</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/shop/" class="nav-link">
  大型电商
</a></li><li class="dropdown-item"><!----> <a href="/project/music/" class="nav-link">
  vue实现音乐app
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/shop/" class="nav-link">
  大型电商
</a></li><li class="dropdown-item"><!----> <a href="/project/music/" class="nav-link">
  vue实现音乐app
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>目录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" class="sidebar-link">项目介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>css基础到进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/css/test.html" class="sidebar-link">移动端问题</a></li><li><a href="/guide/css/layout.html" class="sidebar-link">前端常见布局</a></li><li><a href="/guide/css/alwaysCode.html" class="sidebar-link">常用css片段</a></li><li><a href="/guide/css/iconfont.html" class="sidebar-link">全局stylus配置及使用iconfont</a></li><li><a href="/guide/css/css-skill.html" class="sidebar-link">灵活使用css技巧</a></li><li><a href="/guide/css/code.html" class="sidebar-link">code pratice</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/js/base.html" class="sidebar-link">基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/js/higher.html" class="sidebar-link">js??</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>MVVM分析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/vue/vue.html" class="sidebar-link">vue 基础部分</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack实战分析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node.js基础到进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面试题总结</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/interview/test.html" class="active sidebar-link">JS基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/interview/test.html#引用类型和值类型" class="sidebar-link">引用类型和值类型</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#typeof运算符" class="sidebar-link">typeof运算符</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#深拷贝" class="sidebar-link">深拷贝</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#变量计算-类型转换" class="sidebar-link">变量计算-类型转换</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#原型和原型链" class="sidebar-link">原型和原型链</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#作用域与闭包-this-作用域" class="sidebar-link">作用域与闭包(this,作用域)</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#异步和promise" class="sidebar-link">异步和Promise</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#常考面试题总结" class="sidebar-link">常考面试题总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/interview/test.html#typeof作用" class="sidebar-link">typeof作用</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#何时使用-和" class="sidebar-link">何时使用 === 和 ==</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#值类型和引用类型区别" class="sidebar-link">值类型和引用类型区别</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#手写深拷贝" class="sidebar-link">手写深拷贝</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#解释原型和原型链-并解释instanceof原理" class="sidebar-link">解释原型和原型链,并解释instanceof原理</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#利用原型链手写jquery简单实现，考虑插件和扩展性" class="sidebar-link">利用原型链手写Jquery简单实现，考虑插件和扩展性</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#this使用场景-如何取值" class="sidebar-link">this使用场景,如何取值</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#实现一个call-bind-apply" class="sidebar-link">实现一个call,bind,apply</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#闭包和闭包作用" class="sidebar-link">闭包和闭包作用</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#谈谈你对作用域和作用域链的理解" class="sidebar-link">谈谈你对作用域和作用域链的理解</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#异步和同步区别" class="sidebar-link">异步和同步区别</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#手写promise加载请求和多张图片" class="sidebar-link">手写Promise加载请求和多张图片</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#异步使用场景" class="sidebar-link">异步使用场景</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#解释下变量提升？" class="sidebar-link">解释下变量提升？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#es6模块与commonjs模块有什么区别？" class="sidebar-link">ES6模块与CommonJS模块有什么区别？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#null与undefined的区别是什么？" class="sidebar-link">null与undefined的区别是什么？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#async-await是什么？" class="sidebar-link">async/await是什么？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#浏览器是如何渲染的-输入url的渲染全过程" class="sidebar-link">浏览器是如何渲染的(输入url的渲染全过程)</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#什么是浏览器同源策略？和如何实现跨域" class="sidebar-link">什么是浏览器同源策略？和如何实现跨域</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#dom的事件模型是什么" class="sidebar-link">DOM的事件模型是什么</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#说说dom事件流" class="sidebar-link">说说DOM事件流</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#实现防抖函数（debounce）" class="sidebar-link">实现防抖函数（debounce）</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#数组去重" class="sidebar-link">数组去重</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#洗牌算法和随机数" class="sidebar-link">洗牌算法和随机数</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#实现节流函数（throttle）" class="sidebar-link">实现节流函数（throttle）</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#实现instanceof" class="sidebar-link">实现instanceOf</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#模拟new" class="sidebar-link">模拟new</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#解析-url-params-为对象" class="sidebar-link">解析 URL Params 为对象</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#查找字符串中出现最多的字符和个数" class="sidebar-link">查找字符串中出现最多的字符和个数</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#箭头函数和普通函数的区别？" class="sidebar-link">箭头函数和普通函数的区别？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#var、let、const的区别-？" class="sidebar-link">var、let、const的区别 ？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#谈谈对promise的理解-？" class="sidebar-link">谈谈对Promise的理解 ？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#将多维数组扁平化？" class="sidebar-link">将多维数组扁平化？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#什么是事件代理？" class="sidebar-link">什么是事件代理？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#你知道的性能优化方式有哪些？" class="sidebar-link">你知道的性能优化方式有哪些？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#doctype的作用是什么？" class="sidebar-link">doctype的作用是什么？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#你对html语义化的理解？" class="sidebar-link">你对HTML语义化的理解？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#html5与html4的不同之处" class="sidebar-link">HTML5与HTML4的不同之处</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#src和href的区别？" class="sidebar-link">src和href的区别？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#有几种前端储存的方式？区别" class="sidebar-link">有几种前端储存的方式？区别</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#css选择器的优先级是怎样的？" class="sidebar-link">CSS选择器的优先级是怎样的？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#link和-import的区别？" class="sidebar-link">link和@import的区别？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#em-px-rem区别？" class="sidebar-link">em\px\rem区别？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#伪类和伪元素的区别" class="sidebar-link">伪类和伪元素的区别</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#块级元素水平居中-垂直居中-水平垂直居中" class="sidebar-link">块级元素水平居中,垂直居中,水平垂直居中</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#除了flex还可以用什么进行布局" class="sidebar-link">除了Flex还可以用什么进行布局</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#清除浮动有哪些方法？" class="sidebar-link">清除浮动有哪些方法？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#盒模型的理解" class="sidebar-link">盒模型的理解</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#谈谈对bfc的理解" class="sidebar-link">谈谈对BFC的理解</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#get和post有什么区别？" class="sidebar-link">GET和POST有什么区别？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#https是如何保证安全的？" class="sidebar-link">HTTPS是如何保证安全的？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#请简述tcp-udp的区别" class="sidebar-link">请简述TCP\UDP的区别</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#http与https的区别：" class="sidebar-link">Http与Https的区别：</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#http2和http1有什么区别" class="sidebar-link">HTTP2和HTTP1有什么区别</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#聊一聊http的状态码有哪些？" class="sidebar-link">聊一聊HTTP的状态码有哪些？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#讲一下三次握手？" class="sidebar-link">讲一下三次握手？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#讲一下四次握手？" class="sidebar-link">讲一下四次握手？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#webpack面试题" class="sidebar-link">Webpack面试题</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#原生实现无线滚动加载图片" class="sidebar-link">原生实现无线滚动加载图片</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#网络安全相关" class="sidebar-link">网络安全相关</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#事件循环机制" class="sidebar-link">事件循环机制</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#web缓存" class="sidebar-link">web缓存</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#移动端1px问题" class="sidebar-link">移动端1px问题</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#有没有更好的判断变量类型的方法？" class="sidebar-link">有没有更好的判断变量类型的方法？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#字符串的test、match、search它们之间的区别？" class="sidebar-link">字符串的test、match、search它们之间的区别？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#原型继承的方式有哪些？" class="sidebar-link">原型继承的方式有哪些？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#class理解" class="sidebar-link">class理解</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#对浏览器或元素的各种距离参数你知道哪些？" class="sidebar-link">对浏览器或元素的各种距离参数你知道哪些？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#什么是重绘和回流？" class="sidebar-link">什么是重绘和回流？</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#懒加载（lazyload）原理" class="sidebar-link">懒加载（lazyload）原理</a></li><li class="sidebar-sub-header"><a href="/guide/interview/test.html#settimeout和setinterval的机制" class="sidebar-link">setTimeout和setInterval的机制</a></li></ul></li></ul></li><li><a href="/guide/interview/web-api.html" class="sidebar-link">JS-Web-API</a></li><li><a href="/guide/interview/git.html" class="sidebar-link">Git总结</a></li><li><a href="/guide/interview/broswer.html" class="sidebar-link">浏览器</a></li><li><a href="/guide/interview/miniprogrammer.html" class="sidebar-link">小程序</a></li><li><a href="/guide/interview/Vue.html" class="sidebar-link">Vue</a></li><li><a href="/guide/interview/project.html" class="sidebar-link">项目总结</a></li><li><a href="/guide/interview/always.html" class="sidebar-link">面试通用回答</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js基础"><a href="#js基础" class="header-anchor">#</a> JS基础</h1> <p>基本试题:</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ol><li><code>typeof</code>作用</li> <li>何时使用 <code>===</code> 和 <code>==</code></li> <li>值类型和引用类型区别</li> <li>手写深拷贝</li> <li>如何判断一个变量是否是数组</li> <li>利用原型链手写<code>Jquery</code>简单实现，考虑插件和扩展性</li> <li><code>class</code>原型本质理解,结合原型链</li> <li><code>this</code>使用场景,如何取值</li> <li>手写<code>bind</code>函数</li> <li>闭包的使用场景</li> <li>作用域标签判断题</li> <li>异步和同步区别</li> <li>手写<code>Promise</code>加载请求和多张图片</li> <li>异步使用场景</li></ol></div> <h2 id="引用类型和值类型"><a href="#引用类型和值类型" class="header-anchor">#</a> 引用类型和值类型</h2> <p>js中创建的赋值方式分为<code>引用类型</code>和<code>值类型</code>,引用类型能够保持状态不改变。</p> <p>常见出现形式:</p> <p><strong>值类型</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a
<span class="token comment">// b=100</span>
</code></pre></div><p>常见的值类型包括字符串,布尔型,数值型
<img src="https://image.yangxiansheng.top/img/20200701122432.png?imagelist" alt=""></p> <p><strong>引用类型</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a
b<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">200</span>
<span class="token comment">// a= {age:200}</span>
</code></pre></div><p><img src="https://image.yangxiansheng.top/img/20200701122443.png?imagelist" alt=""></p> <p><strong>常见的引用类型包含对象,数组空值等</strong></p> <p><img src="https://image.yangxiansheng.top/img/20200701143535.png?imagelist" alt=""></p> <p>可见引用类型和值类型二者的区分,引用类型一但赋值之后<code>b</code>发生改变,<code>a</code>也发生改变。这是因为<strong>用堆栈的角度分析,引用类型栈🔑a,value:内存地址,堆🔑内存地址,value:值,当a赋值给b,堆的值发生改变,内存地址是不变的,相应的b的值也会发生改变。而值类型则不同,他只是栈类型，值发生改变，key是不同的,值发生改变。</strong></p> <h2 id="typeof运算符"><a href="#typeof运算符" class="header-anchor">#</a> typeof运算符</h2> <p><strong>typeof</strong>作用</p> <ul><li>识别所有的<code>值类型</code></li> <li>函数</li> <li>还能判断是不是引用类型。</li></ul> <p><img src="https://image.yangxiansheng.top/img/20200701144028.png?imagelist" alt=""></p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p><code>typeof</code>并不能完全识别引用类型,他只能判断是否是引用类型，不能继续识别</p></div> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701144130.png" alt="20200701144130.png"></p> <h2 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h2> <p>深拷贝步骤分为: 1.保证类型为数组和对象 2.确定返回值 3.递归赋值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">&quot;121&quot;</span><span class="token punctuation">,</span>
  address<span class="token operator">:</span><span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">,</span>
  array<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  obja<span class="token operator">:</span><span class="token punctuation">{</span>
    a<span class="token operator">:</span><span class="token punctuation">{</span>
      b<span class="token operator">:</span><span class="token string">&quot;1213&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 浅拷贝</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> obj1
obj2<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;浅拷贝&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// 浅拷贝</span>

<span class="token comment">// 深拷贝</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>
obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;深拷贝&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

<span class="token comment">/**
 *  手写深拷贝 三个步骤: 1.判断类型 2.确定返回值 3.递归赋值
 * @param {Object} obj 
 */</span>
<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 保证是数组或对象</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> obj <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> obj
  <span class="token punctuation">}</span>
  <span class="token comment">// 确定返回值</span>
  <span class="token keyword">let</span> result 
  <span class="token keyword">if</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 递归赋值 属性必须不是原型拥有</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 递归保证深层结构赋值</span>
        result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result

<span class="token punctuation">}</span>
</code></pre></div><h2 id="变量计算-类型转换"><a href="#变量计算-类型转换" class="header-anchor">#</a> 变量计算-类型转换</h2> <p>通常来说,两个等号会尽量保证类型相同,所以会进行类型转换。</p> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701152908.png" alt="20200701152908.png"></p> <p><strong>两个等号的唯一使用场景</strong>: 判断对象属性是否为<code>null</code>,其他情况全部使用<code>===</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">}</span>
<span class="token comment">// 这句等同于  obj.a === 'undefined' || obj.a === null</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><p><code>truly</code>变量和<code>falsly</code>变量,常见的有:</p> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701153829.png" alt="20200701153829.png"></p> <p>使用场景经常为逻辑运算符</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">''</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'abc'</span><span class="token punctuation">)</span> <span class="token comment">// ''</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre></div><h2 id="原型和原型链"><a href="#原型和原型链" class="header-anchor">#</a> 原型和原型链</h2> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701161415.png" alt="20200701161415.png"></p> <p><strong>类型判断-<code>instanceof</code></strong></p> <ol><li>判断引用类型</li> <li><code>Object</code>可以充当任意<code>class</code>的父类</li></ol> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701162342.png" alt="20200701162342.png"></p> <p><strong>显式原型和隐式原型之间的关系：</strong></p> <blockquote><p>js引擎自动会处理, <code>class</code>也是一个<code>function</code></p></blockquote> <ul><li>每个<code>class</code>都有一个显式原型<code>prototype</code>,这里存储方法或属性。</li> <li>每个实例都有一个隐式原型<code>__proto__</code></li> <li>实例的隐式原型指向<code>class</code>的显式原型,实例就有用了属性和方法</li></ul> <p>这里<strong>Student</strong>是定义的类,然后传入属性<code>name</code>,<code>number</code>,再定义一个函数,<strong>根据关系类<code>Student</code>具有显式原型<code>prototype</code>存放方法，然后实例化的时候隐式原型指向这个原型,从而调用方法</strong>。</p> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701163319.png" alt="20200701163319.png"></p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// 打印出student:{constructor:{},sayHi:}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xialuo<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// 同样打印出刚刚的结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span>prototype <span class="token operator">===</span> xialuo<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>原型链</strong></p> <p>每个显式原型下也有一个隐式原型，指向规则和上面一样。<strong>在每一层首先寻找自身的属性或方法,如果没有通过隐式原型去找上一层的显示原型的方法,依次形成一个链</strong></p> <p><code>Student</code>的显式原型下有一个<code>__proto__</code>，指向<code>People</code>的显式原型<code>prtotype</code></p> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701165830.png" alt="20200701165830.png"></p> <p>原型链的最高层<code>Object</code>的显示原型拥有<code>toString</code>和<code>hasOwnProperty</code>方法和自身隐式原型</p> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200701171044.png" alt="20200701171044.png"></p> <p><strong>解读instance of</strong></p> <p><code>a instance of b</code> ,代表<code>a</code>的隐式原型顺着原型链向上找,能否找到对应的<code>b</code>的显示原型,如果能找到对应关系,返回真,否则为假。</p> <p><strong>手写Jquery部分实现</strong></p> <p>借助<code>class</code>操作dom,并扩展插件机制和方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 手写jquery简单实现 基本步骤就是获取dom,遍历并且赋值被this,书写遍历,监听,获取方法</span>
<span class="token keyword">class</span> <span class="token class-name">Jquery</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">selector</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>selector <span class="token operator">=</span> selector
    <span class="token keyword">const</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span>
    <span class="token comment">// 遍历赋值this</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> ele<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ele<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token comment">// 方法</span>

  <span class="token keyword">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token function">each</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 回调方法</span>
      <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      <span class="token function">fn</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>fn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> jq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Jquery</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 原型上扩展插件机制</span>
<span class="token class-name">Jquery</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">newfun</span> <span class="token operator">=</span>  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">q</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 造轮子的原理  就是继承原类扩展自身方法</span>
</code></pre></div><h2 id="作用域与闭包-this-作用域"><a href="#作用域与闭包-this-作用域" class="header-anchor">#</a> 作用域与闭包(this,作用域)</h2> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200702185331.png" alt="20200702185331.png"></p> <p><strong>作用域</strong></p> <p>变量在函数体内部具有一个作用区域，超出区域就不能进行调用。</p> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200702185846.png" alt="20200702185846.png"></p> <p>作用域分为: <code>全局作用域</code>，<code>函数作用域</code>和<code>块级作用域</code>。</p> <p>全局作用域和函数作用域在上面就有使用到,然后块级作用域主要使用到的场景为判断语句中定义的变量,不能超出大括号区域使用,否则报错。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span> a <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// error</span>
</code></pre></div><blockquote><p>自由变量: 当前作用域下未定义,但是向上层级(父级作用域)能够找到并且合法的变量。比如这里的<code>fn3</code>中的 <code>a</code> <code>a1</code> <code>a2</code> 都是在本函数作用域下未定义,但是向上层级能够找到,所以他们是自由变量。</p></blockquote> <p>例题:</p> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200703112852.png" alt="20200703112852.png"></p> <blockquote><p>这种情况,点击每个<code>a</code>都会弹出对应的<code>i</code>，这是因为块级作用域,每次循环都会形成新的块,<code>i</code>就会不同,但是如果<code>i</code>定义为全局作用域,永远都会弹出<code>10</code>，函数没执行但是已经循环完。</p></blockquote> <p><strong>闭包</strong></p> <p>两个题理解闭包的概念</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> a<span class="token operator">=</span> <span class="token number">200</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 打印 200</span>

<span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span>

<span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">200</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">print</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>这里会发现,<strong>不论函数在哪里执行,自由变量的查找,都是定义函数的地方向上级作用域查找出的变量值</strong>。而不是执行向上级作用域查找。所以都打印出了<code>200</code>。这就是闭包的概念。</p></div> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200702194853.png" alt="20200702194853.png"></p> <p><strong>闭包的常见应用场景:</strong></p> <ol><li>使用闭包控制数据访问,只提供API访问数据。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//外界无法访问这个数据,只能调用get函数获取值</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li></li></ol> <p><strong>this指向问题</strong></p> <p>调用场景有很多种,函数内,箭头函数内,class内等等</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>口诀: <code>this</code>指向是在函数执行的时候确认的,而不是在函数定义的时候确认的。</p></div> <p>几种情况 <strong>function</strong>,<strong>call</strong>,<strong>bind</strong>，箭头函数，普通函数，类</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// one</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//window</span>

<span class="token comment">// two</span>
<span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// call改变this指向直接执行 {age:11}</span>

<span class="token comment">// three</span>
<span class="token keyword">const</span> test2 <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//bind改变this指向后需要接收后再执行</span>
<span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {age:12}</span>

<span class="token comment">// four</span>
<span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">{</span>
  <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//箭头函数this指向父级作用域 -当前对象</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// five</span>
<span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">{</span>
  <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>  <span class="token comment">// window 执行阶段已跳出student管控</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// six</span>
<span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">{</span>
  <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// student对象</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>经典问题</strong></p> <p>每个函数都是<code>Function</code>构造函数的实例对象,所以用<code>Function.prototype.fn</code>函数中<code>this</code>一定指向实例对象的。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'ClarenceC'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">greet</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

person<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Person是一个构造函数,<code>person.greet</code>中的<code>this</code>指向<code>person</code>实例对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">mycall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> context <span class="token operator">||</span> window
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// this指向context中的函数实例对象</span>
  context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>手写bind函数</strong></p> <p>书写<code>bind</code>函数步骤分为:</p> <ul><li>拆解参数</li> <li>获取<code>this</code>和参数</li> <li>获取调用对象</li> <li>返回函数。</li></ul> <p>在<code>Function</code>原型上扩展插件即可,将一个列表转换为数组:<strong><code>Array.prototype.slice.call(params)</code></strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  <span class="token keyword">const</span> t <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// Function是个class this指向对象本身</span>
  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// apply用法和call相似</span>
    <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">test1</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> test2 <span class="token operator">=</span> test1<span class="token punctuation">.</span><span class="token function">bin1</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span>
<span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {age:11} 10 20 30</span>
</code></pre></div><h2 id="异步和promise"><a href="#异步和promise" class="header-anchor">#</a> 异步和Promise</h2> <p><img src="https://raw.githubusercontent.com/imageList/imglist/master/20200703151544.png" alt="20200703151544.png"></p> <p><strong>异步</strong></p> <p>js是单线程语言,同时只能做一件事。</p> <p>异步就是不会阻塞其他进程的进行,不会阻塞其他代码的执行。</p> <p>异步出现的场景: <code>网络请求</code>和<code>定时任务</code></p> <p><strong>Pormise</strong></p> <p><code>Promise</code>的出现有效的解决了回调地狱的出现。</p> <p>模拟<code>ajsx</code>请求</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      url<span class="token punctuation">,</span>
      <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">error</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token keyword">const</span> url1 <span class="token operator">=</span> <span class="token string">'data1.json'</span>
<span class="token keyword">const</span> url2 <span class="token operator">=</span> <span class="token string">'data2.json'</span>
<span class="token keyword">const</span> url3 <span class="token operator">=</span> <span class="token string">'data3.json'</span>

<span class="token function">getData</span><span class="token punctuation">(</span>url1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">getData</span><span class="token punctuation">(</span>url2<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">getData</span><span class="token punctuation">(</span>url3<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">errpr</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>使用<code>Promise</code>模拟加载多张图片</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">loadimg</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resovle<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> img <span class="token operator">=</span>  document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> src
    <span class="token comment">// 回调</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">resovle</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'加载失败'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 展示到body</span>
<span class="token keyword">function</span> <span class="token function">showImg</span><span class="token punctuation">(</span><span class="token parameter">imgs</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   imgs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 请求多张图片地址并加载(模拟懒加载)</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token function">Loadimg</span><span class="token punctuation">(</span>src1<span class="token punctuation">)</span>
  <span class="token function">Loadimg</span><span class="token punctuation">(</span>src2<span class="token punctuation">)</span>
  <span class="token function">Loadimg</span><span class="token punctuation">(</span>src3<span class="token punctuation">)</span>
  <span class="token function">Loadimg</span><span class="token punctuation">(</span>src4<span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">imgs</span><span class="token operator">=&gt;</span><span class="token function">showImg</span><span class="token punctuation">(</span>imgs<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><h2 id="常考面试题总结"><a href="#常考面试题总结" class="header-anchor">#</a> 常考面试题总结</h2> <p>包含<code>js</code>基础,<code>js</code>进阶,<code>HTML</code>,<code>CSS</code>,<code>HTTP</code>,<code>浏览器</code>等面试题汇总</p> <h3 id="typeof作用"><a href="#typeof作用" class="header-anchor">#</a> typeof作用</h3> <ul><li>判断值类型变量的类型</li> <li>判断是否是引用类型,但是无法具体判断类型</li> <li>可以判断<code>function</code></li></ul> <h3 id="何时使用-和"><a href="#何时使用-和" class="header-anchor">#</a> 何时使用 === 和 ==</h3> <p>在判断对象属性是否为空时使用<code>==</code>,其他一律使用<code>===</code>，因为<code>==</code>会引起类型转换。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>a <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token comment">// 等效于</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>a <span class="token operator">===</span> <span class="token string">'undefined'</span> <span class="token operator">||</span> data<span class="token punctuation">.</span>a <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="值类型和引用类型区别"><a href="#值类型和引用类型区别" class="header-anchor">#</a> 值类型和引用类型区别</h3> <p>一般的值类型,他是可以用<code>typeof</code>鉴定类型的,并且对应的是一个栈类型,变量名为<code>key</code>,值为<code>value</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// Number</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'a'</span> <span class="token comment">// String</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// symbol</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>a <span class="token comment">// boolean</span>
<span class="token keyword">let</span> a <span class="token comment">// undefined</span>
</code></pre></div><p>引用类型,一般指的就是对象,他可以用<code>typeof</code>判断是否是引用类型,但是无法判断具体类型,对应的是一个堆栈模型,栈中<code>key</code>是对象名,<code>value</code>对应内存地址,然后堆模型中一个内存地址对应一个<code>value</code>。</p> <p>这也就是会出现这种情况的原因</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">let</span> b 
b <span class="token operator">=</span> a
b <span class="token operator">=</span> <span class="token number">300</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 100</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> y 
y <span class="token operator">=</span> x
y <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// {a:20}</span>
</code></pre></div><h3 id="手写深拷贝"><a href="#手写深拷贝" class="header-anchor">#</a> 手写深拷贝</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">deepclone</span><span class="token punctuation">(</span><span class="token parameter">target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> target <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> target
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> result
  <span class="token keyword">if</span><span class="token punctuation">(</span>target <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 避免原型属性影响</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepclone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="解释原型和原型链-并解释instanceof原理"><a href="#解释原型和原型链-并解释instanceof原理" class="header-anchor">#</a> 解释原型和原型链,并解释instanceof原理</h3> <p>使用到原型方法<code>instanceof</code></p> <p>原型: 以一个<code>student</code>,<code>people</code>这个两个类来说,假设<code>student</code>是继承于<code>people</code>这个类的。现在有一个<code>student</code>的原型<code>stu1</code>,那么<code>stu1</code>就有一个隐式原型<code>__proto__</code>指向<code>student</code>类的显式原型<code>prototype</code>。等同于
<code>stu1.__proto__ === Student.prototype</code>,那么stu1就可以调用<code>Student</code>的方法和属性。</p> <p>原型链:<strong>每个对象都有 <strong>proto</strong> 属性，此属性指向该对象的构造函数的原型。</strong> 现在<code>stu1</code>的隐式原型指向了<code>Student</code>的显式原型,然后<code>Student</code>的显式原型也有一个隐式原型,他指向<code>People</code>的显式原型。所有<code>Student</code>类包括实例可以使用<code>People</code>的方法,最后<code>People</code>的显示原型的隐式原型指向最高层<code>Object</code>的显示原型,他的隐式原型指向<code>null</code>。</p> <p><code>instanceof</code>原理就迎刃而解,首先如果判断<code>Array</code>,<code>a</code>如果是数组，<code>a</code>的隐式原型顺着原型链向上找,找到<code>Array</code>这个<code>class</code>即为数组。</p> <h3 id="利用原型链手写jquery简单实现，考虑插件和扩展性"><a href="#利用原型链手写jquery简单实现，考虑插件和扩展性" class="header-anchor">#</a> 利用原型链手写Jquery简单实现，考虑插件和扩展性</h3> <p>获取<code>dom</code>,遍历赋值给<code>this</code>,最后书写方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Jquery</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">selector</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>selector <span class="token operator">=</span> selector
    <span class="token keyword">const</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> ele<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ele<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> ele<span class="token punctuation">.</span>length
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">each</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
      <span class="token function">fn</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span>fn</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>fn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 插件机制扩展原型方法</span>
<span class="token class-name">Jquery</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">f1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="this使用场景-如何取值"><a href="#this使用场景-如何取值" class="header-anchor">#</a> this使用场景,如何取值</h3> <p><code>this</code>取值原则: this去向有执行函数的的地方决定。</p> <p>大致可以分为六种:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// one</span>
<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//window</span>

<span class="token comment">// two</span>
<span class="token function">test</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// call改变this指向直接执行 {age:11}</span>

<span class="token comment">// three</span>
<span class="token keyword">const</span> test2 <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>age<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//bind改变this指向后需要接收后再执行</span>
<span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {age:12}</span>

<span class="token comment">// four</span>
<span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">{</span>
  <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//箭头函数this指向父级作用域 -当前对象</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// five</span>
<span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">{</span>
  <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>  <span class="token comment">// window 执行阶段已跳出student管控</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// six</span>
<span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">{</span>
  <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// student对象</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="实现一个call-bind-apply"><a href="#实现一个call-bind-apply" class="header-anchor">#</a> 实现一个call,bind,apply</h3> <p>手写<code>bind</code>: 在<code>Function</code>原型扩展插件方法,第一步拆解参数,转为数组,提取第一项为<code>this</code>,剩余参数。返回一个<code>call</code>方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">const</span> t <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span>args<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>手写<code>call</code>,<code>apply</code>非常相似只需要返回函数即可,不需要执行。</p> <p>把他想成这样就行</p> <div class="language-js extra-class"><pre class="language-js"><code>context <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token function-variable function">bar</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这里如果bar()在对象充当属性,this就会指向context,然后再删除方法即可</span>
<span class="token comment">// 每个函数都是 构造函数 Function 的实例对象，bar.call 或者 bar.apply 函数中的 this 自然也是指向该实例对象即 bar 的</span>
</code></pre></div><ul><li>取出<code>bar</code>函数</li> <li>判断是否是非函数</li> <li>定义函数<code>context[simbol实例] = fun</code>,一定要取<code>simbol</code>,因为<code>fun</code>可能是原有的函数</li> <li>执行然后删除对象函数,返回结果</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">mycall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> context <span class="token operator">||</span> window
  <span class="token keyword">let</span> func <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// this指向bar 函数实例</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> func <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'is not a function'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token keyword">let</span> caller <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Simbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  context<span class="token punctuation">[</span>caller<span class="token punctuation">]</span> <span class="token operator">=</span> func <span class="token comment">// 定义函数</span>
  <span class="token keyword">let</span> res <span class="token operator">=</span> context<span class="token punctuation">[</span>caller<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token comment">//执行 </span>
  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>caller<span class="token punctuation">]</span> <span class="token comment">// 删除函数属性</span>
  <span class="token keyword">return</span> res 
<span class="token punctuation">}</span>
</code></pre></div><p>apply</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">apply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">||</span> window<span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> result<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'arr['</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        result <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'context.fn('</span> <span class="token operator">+</span> args <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="闭包和闭包作用"><a href="#闭包和闭包作用" class="header-anchor">#</a> 闭包和闭包作用</h3> <p>闭包: 闭包是<code>函数</code>和<code>声明该函数词法环境</code>的组合。函数内自由变量的查找总是在定义函数的地方的上级作用域进行查找。</p> <p>举例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> a<span class="token operator">=</span> <span class="token number">200</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 打印 200</span>
</code></pre></div><p>闭包的作用: 闭包最大的作用就是<code>隐藏变量</code>，<strong>闭包的一大特性就是内部函数总是可以访问其所在的外部函数中声明的参数和变量</strong>,只提供API访问数据。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//外界无法访问这个数据,只能调用get函数获取值</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="谈谈你对作用域和作用域链的理解"><a href="#谈谈你对作用域和作用域链的理解" class="header-anchor">#</a> 谈谈你对作用域和作用域链的理解</h3> <p><strong>作用域分为</strong>: <code>全局作用域</code>,<code>函数作用域</code>,<code>块级作用域</code>。全局作用定义在外部,函数作用域定义在函数内部,块级作用域一般定义在判断语句或者循环语句当中。</p> <p><strong>作用域链</strong>: <code>js</code>执行过程中会创造<code>可执行上下文</code>,可执行上下文的内部有外部词法环境的引用,通过引用获取外部变量和参数然后一起串联指向全局词法环境,形成作用域链。</p> <h3 id="异步和同步区别"><a href="#异步和同步区别" class="header-anchor">#</a> 异步和同步区别</h3> <p>异步: <code>js</code>是单线程语言,一次只能做一件事，所以就有了异步的存在,异步不会阻塞其他线程,不会影响其他的代码执行。</p> <p>同步: 按一定的顺序执行</p> <h3 id="手写promise加载请求和多张图片"><a href="#手写promise加载请求和多张图片" class="header-anchor">#</a> 手写Promise加载请求和多张图片</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">loadImg</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> src
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span>  <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'failed load'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">showImg</span><span class="token punctuation">(</span><span class="token parameter">imgs</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  imgs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">img</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token function">loadImg</span><span class="token punctuation">(</span>src1<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">loadImg</span><span class="token punctuation">(</span>src2<span class="token punctuation">)</span><span class="token operator">...</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">imgs</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  <span class="token function">showImg</span><span class="token punctuation">(</span>imgs<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="异步使用场景"><a href="#异步使用场景" class="header-anchor">#</a> 异步使用场景</h3> <ul><li>网络请求</li> <li>定时任务</li></ul> <h3 id="解释下变量提升？"><a href="#解释下变量提升？" class="header-anchor">#</a> 解释下变量提升？</h3> <p><code>js</code>引擎执行代码的时候会将<code>声明变量</code>代码放置顶部,然后再依次执行。所以所有的声明变量的语句都会在顶部最先执行,这就是变量提升。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token comment">//等同于</span>

<span class="token keyword">var</span> a
a<span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><h3 id="es6模块与commonjs模块有什么区别？"><a href="#es6模块与commonjs模块有什么区别？" class="header-anchor">#</a> ES6模块与CommonJS模块有什么区别？</h3> <ul><li>CommonJS 模块输出的是一个值的拷贝，ES6 模块输出的是值的引用</li> <li>CommonJS 模块是运行时加载，ES6 模块是编译时输出接口</li></ul> <h3 id="null与undefined的区别是什么？"><a href="#null与undefined的区别是什么？" class="header-anchor">#</a> null与undefined的区别是什么？</h3> <p><code>null</code>表示空值,一个对象可以是<code>null</code>,代表空对象,他是存在的但是值为空</p> <p><code>undefined</code>代表不存在,除了有存在值为空,也存在<code>根本不存在的成员</code>。</p> <h3 id="async-await是什么？"><a href="#async-await是什么？" class="header-anchor">#</a> async/await是什么？</h3> <p><strong>async</strong>: 1. 声明一个异步函数，并且返回值一定是个<code>Promise</code>对象 2. 异步操作执行完才会调用<code>then()</code>方法的回调函数</p> <p><strong>await</strong>: 1. 求值,既可以求出Proimise值,也可以求出表达式的值  2.阻塞线程 3.只能搭配<code>async</code>使用</p> <h3 id="浏览器是如何渲染的-输入url的渲染全过程"><a href="#浏览器是如何渲染的-输入url的渲染全过程" class="header-anchor">#</a> 浏览器是如何渲染的(输入url的渲染全过程)</h3> <p>包含两个过程:</p> <p><strong>加载过程</strong></p> <ul><li>DNS解析域名,域名-&gt;IP地址</li> <li>浏览器与服务器建立tcp链接（三次握手）</li> <li>浏览器根据IP地址发送http请求</li> <li>服务器接收请求,返回数据给浏览器</li></ul> <p><strong>渲染过程</strong></p> <ul><li>根据<code>HTML</code>、<code>Css</code>代码生成相应的<code>DOMTree</code>,<code>CSSOM</code></li> <li>结合<code>DOMTree</code>和<code>CSSOM</code>生成<code>RenderTree</code>，然后将<code>css</code>挂载在<code>DOM</code>上</li> <li>根据<code>RenderTree</code>渲染页面</li> <li>页面遇到<code>&lt;script&gt;&lt;/script&gt;</code>标签停止渲染,执行完<code>js</code>代码后再继续渲染</li> <li>直至渲染完成</li></ul> <h3 id="什么是浏览器同源策略？和如何实现跨域"><a href="#什么是浏览器同源策略？和如何实现跨域" class="header-anchor">#</a> 什么是浏览器同源策略？和如何实现跨域</h3> <p><strong>同源策略</strong>: 浏览器发送<code>ajax</code>请求要求浏览器和服务器必须同源。所谓同源就是<code>协议,端口,域名</code>都必须保持一致。</p> <p><strong>不受同源限制的三个标签</strong>:</p> <p><code>&lt;script&gt;&lt;/script&gt;</code></p> <p><code>&lt;link /&gt;</code></p> <p><code>&lt;img /&gt;</code></p> <p><strong>实现跨域方法</strong>:</p> <ul><li>JSONP实现:</li></ul> <p>原理: 利用<code>&lt;script&gt;&lt;/script&gt;</code>不受同源策略限制,进行跨域操作。</p> <ul><li>CORS跨域:</li></ul> <p>原理: 使用额外的 <code>HTTP 头</code>来告诉浏览器 让运行在一个 <code>origin</code> (domain) 上的Web应用被准许访问来自不同源服务器上的指定的资源。</p> <ul><li>nginx反向代理:</li></ul> <p>原理:所有客户端的请求都必须先经过nginx的处理，nginx作为代理服务器再讲请求转发给node或者java服务，这样就规避了同源策略。</p> <p><a href="https://juejin.im/post/5c23993de51d457b8c1f4ee1" target="_blank" rel="noopener noreferrer">具体实现<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="dom的事件模型是什么"><a href="#dom的事件模型是什么" class="header-anchor">#</a> DOM的事件模型是什么</h3> <ul><li>脚本模型</li> <li>内联模型</li> <li>动态绑定</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>行内绑定：脚本模型<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;javascrpt:alert('Hello')&quot;</span><span class="token operator">&gt;</span>Hello1<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>内联模型<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button onclick<span class="token operator">=</span><span class="token string">&quot;showHello()&quot;</span><span class="token operator">&gt;</span>Hello2<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>动态绑定<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn3&quot;</span><span class="token operator">&gt;</span>Hello3<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">/*DOM0：同一个元素，同类事件只能添加一个，如果添加多个，
* 后面添加的会覆盖之前添加的*/</span>
<span class="token keyword">function</span> <span class="token function">shoeHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> btn3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
btn3<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre></div><h3 id="说说dom事件流"><a href="#说说dom事件流" class="header-anchor">#</a> 说说DOM事件流</h3> <ul><li>事件捕获阶段</li> <li>目标接收事件</li> <li>事件冒泡阶段</li></ul> <h3 id="实现防抖函数（debounce）"><a href="#实现防抖函数（debounce）" class="header-anchor">#</a> 实现防抖函数（debounce）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">debounce</span> <span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timer

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>适用场景：</p> <ul><li>按钮提交场景：防止多次提交按钮，只执行最后提交的一次</li> <li>服务端验证场景：表单验证需要服务端配合，只执行一段连续的输入事件的最后一次，还有搜索联想词功能类似</li></ul> <h3 id="数组去重"><a href="#数组去重" class="header-anchor">#</a> 数组去重</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当前值 下标 数组</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">===</span> i<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="洗牌算法和随机数"><a href="#洗牌算法和随机数" class="header-anchor">#</a> 洗牌算法和随机数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getRandomInt</span> <span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 取min-max的数据</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">shuffle</span> <span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当前数组值与取到的随机数组值交换 从而打乱数据</span>
  <span class="token keyword">let</span> _arr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token function">getRandomInt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
    <span class="token keyword">let</span> t <span class="token operator">=</span> _arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    _arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> _arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    _arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> t
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> _arr
<span class="token punctuation">}</span>
</code></pre></div><h3 id="实现节流函数（throttle）"><a href="#实现节流函数（throttle）" class="header-anchor">#</a> 实现节流函数（throttle）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 节流函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">throttle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">500</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>适用场景：</p> <ul><li>拖拽场景：固定时间内只执行一次，防止超高频次触发位置变动</li> <li>缩放场景：监控浏览器resize</li> <li>动画场景：避免短时间内多次触发动画引起性能问题</li></ul> <h3 id="实现instanceof"><a href="#实现instanceof" class="header-anchor">#</a> 实现instanceOf</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 模拟 instanceof</span>
<span class="token keyword">function</span> <span class="token function">instance_of</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">L</span><span class="token punctuation">,</span> <span class="token constant">R</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//L 表示左表达式，R 表示右表达式</span>
  <span class="token keyword">var</span> <span class="token constant">O</span> <span class="token operator">=</span> <span class="token class-name">R</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// 取 R 的显示原型</span>
  <span class="token constant">L</span> <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span> <span class="token comment">// 取 L 的隐式原型</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">L</span> <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">O</span> <span class="token operator">===</span> <span class="token constant">L</span><span class="token punctuation">)</span>
      <span class="token comment">// 这里重点：当 O 严格等于 L 时，返回 true</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token constant">L</span> <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="模拟new"><a href="#模拟new" class="header-anchor">#</a> 模拟new</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createNew</span><span class="token punctuation">(</span><span class="token parameter">Ctor<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Ctor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token function">Ctur</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> ret <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> ret <span class="token operator">:</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token number">1.</span> 将构造函数的原型赋值给新建的obj的隐式原型__proto__。
<span class="token number">2.</span> 在obj下执行构造函数，并传入参数，
   这个时候构造函数内的<span class="token keyword">this</span>就是obj。
<span class="token number">3.</span> 如果这个<span class="token string">'构造函数'</span>没有<span class="token keyword">return</span>对象格式的结果，
   返回新创建的obj。

<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> xm <span class="token operator">=</span> <span class="token function">createNew</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> <span class="token string">'xiaoming'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="解析-url-params-为对象"><a href="#解析-url-params-为对象" class="header-anchor">#</a> 解析 URL Params 为对象</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'http://www.domain.com/?user=anonymous&amp;id=123&amp;id=456&amp;city=%E5%8C%97%E4%BA%AC&amp;enabled'</span><span class="token punctuation">;</span>
<span class="token function">parseParam</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token comment">/* 结果
{ user: 'anonymous',
  id: [ 123, 456 ], // 重复出现的 key 要组装成数组，能被转成数字的就转成数字类型
  city: '北京', // 中文需解码
  enabled: true, // 未指定值得 key 约定为 true
}
*/</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">parseParam</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> paramsStr <span class="token operator">=</span> <span class="token regex">/.+\?(.+)$/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 将 ? 后面的字符串取出来</span>
  <span class="token keyword">const</span> paramsArr <span class="token operator">=</span> paramsStr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将字符串以 &amp; 分割后存到数组中</span>
  <span class="token keyword">let</span> paramsObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 将 params 存到对象中</span>
  paramsArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">param</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/=/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 处理有 value 的参数</span>
      <span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> val<span class="token punctuation">]</span> <span class="token operator">=</span> param<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 分割 key 和 value</span>
      val <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 解码</span>
      val <span class="token operator">=</span> <span class="token regex">/^\d+$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">:</span> val<span class="token punctuation">;</span> <span class="token comment">// 判断是否转为数字</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>paramsObj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果对象有 key，则添加一个值</span>
        paramsObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>paramsObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 如果对象没有这个 key，创建 key 并设置值</span>
        paramsObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// 处理没有 value 的参数</span>
      paramsObj<span class="token punctuation">[</span>param<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> paramsObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="查找字符串中出现最多的字符和个数"><a href="#查找字符串中出现最多的字符和个数" class="header-anchor">#</a> 查找字符串中出现最多的字符和个数</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;abcabcabcbbccccc&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> char <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

 <span class="token comment">// 使其按照一定的次序排列</span>
str <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;aaabbbbbcccccccc&quot;</span>

<span class="token comment">// 定义正则表达式</span>
<span class="token keyword">let</span> re <span class="token operator">=</span> <span class="token regex">/(\w)\1+/g</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>re<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">$<span class="token number">0</span><span class="token punctuation">,</span>$<span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">&lt;</span> $<span class="token number">0.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
        num <span class="token operator">=</span> $<span class="token number">0.</span>length<span class="token punctuation">;</span>
        char <span class="token operator">=</span> $<span class="token number">1</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">字符最多的是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>char<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，出现了</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">次</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="箭头函数和普通函数的区别？"><a href="#箭头函数和普通函数的区别？" class="header-anchor">#</a> 箭头函数和普通函数的区别？</h3> <ul><li>箭头函数的<code>this</code>是由包裹它的<code>普通函数的this</code>来决定；`</li> <li>不能作为构造函数, <code>Generator</code>函数；</li> <li>参数不能使用arguments访问，需要使用Es6的不定参数访问；</li> <li>使用<code>bind</code>方法无效。</li></ul> <h3 id="var、let、const的区别-？"><a href="#var、let、const的区别-？" class="header-anchor">#</a> var、let、const的区别 ？</h3> <ul><li><code>var类型</code>会有变量提升的情况</li> <li><code>let</code>和<code>const</code>没有变量提升的情况，必须要先声明再使用，否则就会出现暂时性死区的情况。</li> <li><code>const</code>和<code>let</code>的区别在于一经定义后不得再次改变const定义的值`</li> <li><code>const</code>必须赋值</li></ul> <h3 id="谈谈对promise的理解-？"><a href="#谈谈对promise的理解-？" class="header-anchor">#</a> 谈谈对Promise的理解 ？</h3> <ul><li><code>Promise</code>主要解决的问题就是``异步回调嵌套过深造成代码难以维护和理解`</li> <li><code>Promise</code>一共有三种状态<code>pending等待状态</code>、<code>resolved已完成状态</code>、<code>rejected已拒绝状态</code></li> <li><code>Promise构造函数</code>内的代码是同步执行的，而之后<code>then</code>或<code>catch</code>方法是异步执行的，构造函数接受两个函数参数resolve和reject，它们执行时接受的参数分别会传递给<code>then</code>和<code>catch</code>表示<code>成功的回调</code>以及<code>失败回调</code>接受到的值。`</li></ul> <h3 id="将多维数组扁平化？"><a href="#将多维数组扁平化？" class="header-anchor">#</a> 将多维数组扁平化？</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flatten</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator">:</span> v<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flatten</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">:</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="什么是事件代理？"><a href="#什么是事件代理？" class="header-anchor">#</a> 什么是事件代理？</h3> <p>利用事件流的冒泡特性，将子节点的事件绑定在父节点上，然后在回调里面使用事件对象进行区分，优点是节省内存且不需要给子节点销毁事件。</p> <h3 id="你知道的性能优化方式有哪些？"><a href="#你知道的性能优化方式有哪些？" class="header-anchor">#</a> 你知道的性能优化方式有哪些？</h3> <ul><li>文件压缩，减小资源大小</li> <li>异步组件，按需加载</li> <li>小图片转base64，减少请求</li> <li>雪碧图，减少请求</li> <li>选择合适的图片格式和尺寸</li> <li>懒加载，按需加载</li> <li>css放最上面，js放在body最下面，渲染优化</li> <li>事件节流，减少操作</li> <li>减少Dom操作和避免回流，渲染优化</li> <li>浏览器缓存，减少请求次数或响应数据</li> <li>减少cookie的使用，减少请求携带大小</li></ul> <h3 id="doctype的作用是什么？"><a href="#doctype的作用是什么？" class="header-anchor">#</a> doctype的作用是什么？</h3> <p><code>DOCTYPE</code>是<code>html5</code>标准网页声明，且必须声明在HTML文档的第一行。来告知浏览器的解析器用什么文档标准解析这个文档。</p> <h3 id="你对html语义化的理解？"><a href="#你对html语义化的理解？" class="header-anchor">#</a> 你对HTML语义化的理解？</h3> <p>语义化是指使用恰当语义的html标签，让页面具有良好的结构与含义，比如<code>&lt;p&gt;</code>标签就代表段落，<code>&lt;article&gt;</code>代表正文内容,<code>&lt;header&gt; &lt;nav&gt; &lt;aside&gt; &lt;footer&gt;</code>等。</p> <p>优点:</p> <ol><li>增强开发维护可读性</li> <li>更适合机器解析，生成目录,搜索引擎爬虫等</li></ol> <h3 id="html5与html4的不同之处"><a href="#html5与html4的不同之处" class="header-anchor">#</a> HTML5与HTML4的不同之处</h3> <ul><li>文档解析声明和解析顺序 不在基于<code>SGML</code></li> <li>增加新的元素,媒体标签等等</li> <li>input元素的新类型：date, email, url等等</li></ul> <h3 id="src和href的区别？"><a href="#src和href的区别？" class="header-anchor">#</a> src和href的区别？</h3> <ul><li><p><code>src</code>指向的内容会嵌入到标签的位置,会将指定的<code>src</code>资源下载并嵌入到文档。<strong>浏览器渲染页面会等待src解析并执行</strong></p></li> <li><p>href 一般用于超链接,如果是指向资源文件会下载资源,<strong>浏览器不会因他停止渲染</strong></p></li></ul> <h3 id="有几种前端储存的方式？区别"><a href="#有几种前端储存的方式？区别" class="header-anchor">#</a> 有几种前端储存的方式？区别</h3> <ul><li><p>cookie : 本地储存的主要方式，优点是兼容性好，请求头自带cookie方便，缺点是大小只有4k</p></li> <li><p>localStorage: HTML5加入的以键值对(Key-Value)为标准的方式，优点是操作方便，永久性储存（除非手动删除），大小为5M</p></li> <li><p>sessionStorage:与localStorage基本类似, 但是关闭会话框就会自动清空</p></li> <li><p>IndexedDB: 操作<code>NoSql</code>数据库,存储键值,可以快速完成读取操作。</p></li></ul> <h3 id="css选择器的优先级是怎样的？"><a href="#css选择器的优先级是怎样的？" class="header-anchor">#</a> CSS选择器的优先级是怎样的？</h3> <p>内联选择器&gt;id选择器&gt;类选择器&gt;标签选择器</p> <h3 id="link和-import的区别？"><a href="#link和-import的区别？" class="header-anchor">#</a> link和@import的区别？</h3> <ul><li><p><code>link</code> 是XHTML提供的元素而<code>@import</code>是CSS提供的</p></li> <li><p><code>link</code> 和页面一起加载, <code>@import</code>需要等待页面加载完成执行</p></li> <li><p><code>link</code> 方式的样式权重高于@import的权重</p></li></ul> <h3 id="em-px-rem区别？"><a href="#em-px-rem区别？" class="header-anchor">#</a> em\px\rem区别？</h3> <ul><li><p>em : 相对单位，基准点为<code>父节点字体的大小</code>，如果自身定义了<code>font-size</code>按自身来计算（浏览器默认字体是<code>16px</code>）</p></li> <li><p>px : 绝对单位，页面按精确像素展示</p></li> <li><p>rem :相对单位，可理解为”root em”, 相对<code>根节点html的字体大小</code>来计算</p></li></ul> <h3 id="伪类和伪元素的区别"><a href="#伪类和伪元素的区别" class="header-anchor">#</a> 伪类和伪元素的区别</h3> <p>伪类是一个以冒号(:)作为前缀,被添加到一个选择器末尾的关键字,<code>通过在元素选择器上加入伪类改变元素状态</code>。<code>p:last-child</code></p> <p>伪元素: 伪元素用于创建一些不在文档树中的元素,并为其添加样式。用户能够看见但实际不存在文档树中。<code>::before</code></p> <h3 id="块级元素水平居中-垂直居中-水平垂直居中"><a href="#块级元素水平居中-垂直居中-水平垂直居中" class="header-anchor">#</a> 块级元素水平居中,垂直居中,水平垂直居中</h3> <p><strong>水平居中:</strong></p> <ol><li><code>text-align</code></li> <li><code>margin: 0 auto</code>但是一定要给宽度</li> <li>绝对定位+margin或<code>transform</code> 4. flex布局</li></ol> <p><strong>垂直居中:</strong></p> <ol><li><code>height</code>和<code>line-height</code>相等</li> <li><code>display:table-cell;vertical-align:middle</code></li> <li>绝对定位 + <code>margin</code>或<code>transform</code></li> <li>flex布局</li></ol> <p><strong>水平垂直居中:</strong></p> <ol><li>父级设置<code>text-align: center</code>和<code>line-height</code>等同高度</li> <li>绝对定位 + <code>margin</code>或<code>transform</code></li> <li>父级设置<code>display: table</code>，子节点设置<code>display:table-cell;text-align:center;vertical-align:middle</code></li> <li>flex布局</li> <li>grid布局</li></ol> <h3 id="除了flex还可以用什么进行布局"><a href="#除了flex还可以用什么进行布局" class="header-anchor">#</a> 除了Flex还可以用什么进行布局</h3> <p>绝对定位,相对定位,浮动,fixed等</p> <h3 id="清除浮动有哪些方法？"><a href="#清除浮动有哪些方法？" class="header-anchor">#</a> 清除浮动有哪些方法？</h3> <ul><li>空div方法：<code>&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;</code></li> <li><code>overflow: auto</code>或<code>overflow: hidden</code>方法，使用BFC</li> <li>最好的方法</li></ul> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.parent-box:after</span><span class="token punctuation">{</span>
    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="盒模型的理解"><a href="#盒模型的理解" class="header-anchor">#</a> 盒模型的理解</h3> <p>标准盒(content-box): 设置的宽高只是包括内容区，内边距和边框另算。</p> <p><img src="https://xiaomuzhu-image.oss-cn-beijing.aliyuncs.com/232580766e15853d521a4c0bf6a5c794.png" alt=""></p> <p>IE盒(border-box):设置的宽高包含了<strong>内边距和边框</strong>。</p> <p><img src="https://xiaomuzhu-image.oss-cn-beijing.aliyuncs.com/e427c6d19ea6be1359bd0177d7a5b7a3.png" alt=""></p> <h3 id="谈谈对bfc的理解"><a href="#谈谈对bfc的理解" class="header-anchor">#</a> 谈谈对BFC的理解</h3> <p>块级格式上下文，一句话来说就是<strong>让块级元素有块级元素该有的样子，触发BFC可以清除浮动、让margin不重叠</strong>。</p> <p>触发条件:</p> <ol><li><code>overflow</code>的值不为<code>visible</code></li> <li><code>display</code>的值为<code>table-cell</code>、<code>table-caption</code>和<code>inline-block</code>之一。</li> <li><code>position</code>的值不为<code>static</code>或<code>relative</code>中的任何一个</li> <li><code>float</code>不为 <code>none</code></li></ol> <h3 id="get和post有什么区别？"><a href="#get和post有什么区别？" class="header-anchor">#</a> GET和POST有什么区别？</h3> <ul><li><code>get</code>产生一个<code>tcp数据包</code>，<code>post</code>会产生<code>两个tcp包</code></li> <li><code>get</code>主要是应用为获取资源，<code>post</code>主要是应用于传输或修改资源</li> <li><code>get</code>的请求参数会被拼接到url后面，<code>post</code>放在request-body中</li> <li><code>get</code>默认会被浏览器主动缓存，<code>post</code>不会</li></ul> <h3 id="https是如何保证安全的？"><a href="#https是如何保证安全的？" class="header-anchor">#</a> HTTPS是如何保证安全的？</h3> <p>https并不是直接通过非对称加密传输过程，而是<strong>有握手过程</strong>，握手过程主要是<code>和服务器做通讯</code>，<code>生成私有秘钥</code>，最后<code>通过该秘钥对称加密传输数据</code>。还有<code>验证证书的正确性</code>。 证书验证过程保证了对方是合法的，并且中间人无法通过伪造证书方式进行攻击。</p> <h3 id="请简述tcp-udp的区别"><a href="#请简述tcp-udp的区别" class="header-anchor">#</a> 请简述TCP\UDP的区别</h3> <p>TCP:</p> <p>面向连接
面向字节流
有状态
保证可靠交付
具备拥塞控制
点对点传播
有序</p> <p>UDP:</p> <p>无连接
面向数据报
无状态
不保证可靠交付
不具备拥塞控制
广播、多播
无序</p> <h3 id="http与https的区别："><a href="#http与https的区别：" class="header-anchor">#</a> Http与Https的区别：</h3> <ol><li>url不同</li> <li>http不安全,https安全</li> <li>http标准端口:80,https:443</li> <li>http无法加密</li> <li>在OSI 网络模型中，HTTP工作于应用层，而HTTPS 的安全传输机制工作在传输层</li></ol> <h3 id="http2和http1有什么区别"><a href="#http2和http1有什么区别" class="header-anchor">#</a> HTTP2和HTTP1有什么区别</h3> <ul><li>HTTP2支持二进制传送（实现方便且健壮），HTTP1.x是字符串传送</li> <li>HTTP2支持多路复用</li> <li>HTTP2采用HPACK压缩算法压缩头部，减小了传输的体积</li> <li>HTTP2支持服务端推送</li></ul> <h3 id="聊一聊http的状态码有哪些？"><a href="#聊一聊http的状态码有哪些？" class="header-anchor">#</a> 聊一聊HTTP的状态码有哪些？</h3> <p>2XX 成功</p> <ul><li>200 OK，表示从客户端发来的请求在服务器端被正确处理 ✨</li> <li>204 No content，表示请求成功，但响应报文不含实体的主体部分</li> <li>206 Partial Content，进行范围请求 ✨</li></ul> <p>3XX 重定向</p> <ul><li>301 moved permanently，永久性重定向，表示资源已被分配了新的 URL</li> <li>302 found，临时性重定向，表示资源临时被分配了新的 URL ✨</li></ul> <p>4XX 客户端错误</p> <ul><li>401 unauthorized，表示发送的请求需要有通过 HTTP 认证的认证信息 ✨</li> <li>403 forbidden，表示对请求资源的访问被服务器拒绝 ✨</li> <li>404 not found，表示在服务器上没有找到请求的资源 ✨</li></ul> <p>5XX 服务器错误</p> <ul><li>500 internal sever error，表示服务器端在执行请求时发生了错误 ✨</li> <li>502 Bad Gateway：代理服务器无法获取到合法响应</li></ul> <h3 id="讲一下三次握手？"><a href="#讲一下三次握手？" class="header-anchor">#</a> 讲一下三次握手？</h3> <ul><li>第一次握手：客服端发送一个请求连接，服务器端只能确认自己可以接受客服端发送的报文段</li> <li>第二次握手： 服务端向客服端发送一个链接，确认客服端收到自己发送的报文段</li> <li>第三次握手： 服务器端确认客服端收到了自己发送的报文段</li></ul> <h3 id="讲一下四次握手？"><a href="#讲一下四次握手？" class="header-anchor">#</a> 讲一下四次握手？</h3> <ol><li><p>客户端发送 <code>FIN</code> 给服务端</p></li> <li><p>服务端收到后发送 <code>ACK</code> 给客户端</p></li> <li><p>服务端发送 <code>FIN</code> 给客户端</p></li> <li><p>客户端收到后，发送 <code>ACK</code> 的 <code>ACK</code> 给服务端，服务端关闭，客户端等待 <code>2MSL</code> 后关闭</p></li></ol> <h3 id="webpack面试题"><a href="#webpack面试题" class="header-anchor">#</a> Webpack面试题</h3> <p>待更新</p> <h3 id="原生实现无线滚动加载图片"><a href="#原生实现无线滚动加载图片" class="header-anchor">#</a> 原生实现无线滚动加载图片</h3> <h3 id="网络安全相关"><a href="#网络安全相关" class="header-anchor">#</a> 网络安全相关</h3> <ol><li>sql注入原理：通郭sql命令插入到web表单递交或者输入活命，达到欺骗服务器执行的恶意sql命令
防范：1.对用户输入进行校验</li> <li>不适用动态拼接sql</li> <li>XSS（跨站脚本攻击）：往web页面插入恶意的html标签或者js代码。
举例子：在论坛放置一个看是安全的链接，窃取cookie中的用户信息
防范：1.尽量采用post而不使用get提交表单
2.避免cookie中泄漏用户的隐式</li> <li>CSRF(跨站请求伪装）：通过伪装来自受信任用户的请求
举例子：黄轶老师的webapp音乐请求数据就是利用CSRF跨站请求伪装来获取QQ音乐的数据
防范：在客服端页面增加伪随机数，通过验证码</li></ol> <ul><li>XSS和CSRF的区别：
1.XSS是获取信息，不需要提前知道其他用户页面的代码和数据包
2.CSRF代替用户完成指定的动作，需要知道其他页面的代码和数据包</li></ul> <h3 id="事件循环机制"><a href="#事件循环机制" class="header-anchor">#</a> 事件循环机制</h3> <p>JavaScript的执行机制简单来说就<code>先执行同步代码，然后执行异步代码</code>，而<code>异步的代码</code>里面又分为<code>宏任务代码</code>和<code>微任务代码</code>，先执行微任务，然后执行宏任务。首先会将所有JavaScript作为一个宏任务执行，遇到同步的代码就执行，然后开始分配任务，遇到宏任务就将它的回调分配到宏任务的队列里，遇到微任务的回调就分配到微任务的队列里，然后开始执行所有的微任务。执行微任务的过程还是遵循先同步然后分配异步任务的顺序，微任务执行完毕之后，一次Event-Loop的Tick就算完成了。接着挨个去执行分配好的宏任务，在每个宏任务里又先同步后分配异步任务，完成下一次Tick，循环往复直到所有的任务全部执行完成。</p> <p>微任务包括：<code>process.nextTick</code> ，<code>promise</code> ，<code>MutationObserver</code>。</p> <p>宏任务包括：<code>script</code> ， <code>setTimeout</code> ，<code>setInterval</code> ，<code>setImmediate</code> ，<code>I/O</code> ，<code>UI rendering</code>。</p> <h3 id="web缓存"><a href="#web缓存" class="header-anchor">#</a> web缓存</h3> <ol><li>web缓存就是存在于客户端与服务器之间的一个副本、当你第一个发出请求后，缓存根据请求保存输出内容的副本</li> <li>缓存的好处
<ul><li>减少不必要的请求
<ul><li>降低服务器的压力，减少服务器的消耗</li> <li>降低网络延迟，加快页面打开速度（直接读取浏览器的数）</li></ul></li></ul></li></ol> <h3 id="移动端1px问题"><a href="#移动端1px问题" class="header-anchor">#</a> 移动端1px问题</h3> <div class="language-css extra-class"><pre class="language-css"><code><span class="token property">box-shadow</span><span class="token punctuation">:</span> 
  0  -1px 1px -1px #e5e5e5<span class="token punctuation">,</span>   //上边线
  1px  0  1px -1px #e5e5e5<span class="token punctuation">,</span>   //右边线
  0  1px  1px -1px #e5e5e5<span class="token punctuation">,</span>   //下边线
  -1px 0  1px -1px #e5e5e5<span class="token punctuation">;</span>   //左边线
  0 0 0 1px #e5e5e5<span class="token punctuation">;</span>   //四条线
</code></pre></div><h3 id="有没有更好的判断变量类型的方法？"><a href="#有没有更好的判断变量类型的方法？" class="header-anchor">#</a> 有没有更好的判断变量类型的方法？</h3> <p>可以使用<code>Object.prototype.toString.call(var)</code>，可以更加准确的判断某个变量的类型。</p> <h3 id="字符串的test、match、search它们之间的区别？"><a href="#字符串的test、match、search它们之间的区别？" class="header-anchor">#</a> 字符串的test、match、search它们之间的区别？</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">test</span><span class="token template-punctuation string">`</span></span>是检测字符串是否匹配某个正则，返回布尔值；
<span class="token operator">/</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">match</span><span class="token template-punctuation string">`</span></span>是返回检测字符匹配正则的数组结果集合，没有返回<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">null</span><span class="token template-punctuation string">`</span></span>；
<span class="token string">'1AbC2d'</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/[a-z]/ig</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ['A', 'b', 'C', 'd']</span>

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">search</span><span class="token template-punctuation string">`</span></span>是返回正则匹配到的下标，没有返回<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-1</span><span class="token template-punctuation string">`</span></span>。
<span class="token string">'1AbC2d'</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/[a-z]/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
</code></pre></div><h3 id="原型继承的方式有哪些？"><a href="#原型继承的方式有哪些？" class="header-anchor">#</a> 原型继承的方式有哪些？</h3> <p>原型链继承、借用构造函数继承、组合继承、原型式继承、寄生组合继承等等。最优化的继承方式是寄生组合继承：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child

</code></pre></div><h3 id="class理解"><a href="#class理解" class="header-anchor">#</a> class理解</h3> <p>JavaScript没有真正的类，一直也是通过函数加原型的形式来模拟，class也不例外，只是语法糖，本质还是函数。需要先声明再使用，内部的方法不会被遍历，且没有函数的prototype属性。</p> <h3 id="对浏览器或元素的各种距离参数你知道哪些？"><a href="#对浏览器或元素的各种距离参数你知道哪些？" class="header-anchor">#</a> 对浏览器或元素的各种距离参数你知道哪些？</h3> <ul><li>document.documentElement.<code>clientHeight</code>：当前窗口内容区 + 内边距- 的高度</li> <li>window.innerHeight: 当前窗口内容区 + 内边距 + 边框 + 滚动条高度</li> <li>window.outerHeight：整个浏览器的高度(包括工具栏)</li> <li><code>clientHeight</code>: 当前元素内容区 + 内边距的高度</li> <li><code>clientTop</code>: 当前元素上边框的宽度</li> <li><code>offsetHeight</code>: 当前元素内容区 + 内边距 + 边框 + 滚动条的高度</li> <li><code>offsetTop</code>: 当前元素的边框距离父元素上外边距的距离</li> <li><code>scrollHeight</code>: 当前内部可以滚动区域的高度，如果不能滚动则为自己内容区 + 内边距的高度</li> <li><code>scrollTop</code>: 当前元素滚动离顶部的距离</li></ul> <h3 id="什么是重绘和回流？"><a href="#什么是重绘和回流？" class="header-anchor">#</a> 什么是重绘和回流？</h3> <ul><li><code>重绘</code>是节点的外观发生改变而不改变布局时，如改变了color这个行为；</li> <li><code>回流</code>是指改变布局或几何属性发生改变时引起的行为，如添加移除Dom，改变尺寸。它们频繁的触发会影响页面性能。</li></ul> <p>回流一定触发重绘，而重绘不一定引起回流。回流的成本比重绘高很多，而且子节点的回流，可能引起父节点一系列的回流。</p> <p>减少回流</p> <ul><li>使用transform替代位移，使用translate3d开启GPU加速</li> <li>尽量使用visibility替代display:none</li> <li>不要使用tanle布局</li> <li>不要在循环里读取节点的属性值</li> <li>动画速度越快，回流次数越少</li></ul> <h3 id="懒加载（lazyload）原理"><a href="#懒加载（lazyload）原理" class="header-anchor">#</a> 懒加载（lazyload）原理</h3> <p>首先将页面上的图片的<code>src属性</code>设置为空字符串，而图片的真实路经则设置带<code>data-original属性</code>中，当页面滚动的时候需要去监听scroll事件，在<code>scroll事件</code>的回调中，判断我们的懒加载的图片是否进入到可视区域，如果图片在可视区域将图片的<code>src</code>属性设置为<code>data-original</code>的值，这样就可以实现延迟加载。</p> <h3 id="settimeout和setinterval的机制"><a href="#settimeout和setinterval的机制" class="header-anchor">#</a> setTimeout和setInterval的机制</h3> <p>因为js是单线程的。浏览器遇到<code>setTimeout和setInterval</code>会先执行完<code>当前的代码块</code>，在此之前会把定时器<code>推入浏览器的待执行时间队列</code>里面，等到浏览器执行完当前代码之后会看下<code>事件队列</code>里有没有任务，有的话才执行定时器里的代码</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last update:</span> <span class="time">7/22/2020, 8:59:20 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/node/springboot.html" class="prev">
        Springboot
      </a></span> <span class="next"><a href="/guide/interview/web-api.html">
        JS-Web-API
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.81dd3622.js" defer></script><script src="/assets/js/2.d1b1e148.js" defer></script><script src="/assets/js/22.ab119ff1.js" defer></script><script src="/assets/js/4.a3faee54.js" defer></script>
  </body>
</html>
