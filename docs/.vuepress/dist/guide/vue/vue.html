<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue 基础部分 | 前端面试知识总结</title>
    <meta name="description" content="自家使用,暂不外传">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.6a4803ab.css" as="style"><link rel="preload" href="/assets/js/app.81dd3622.js" as="script"><link rel="preload" href="/assets/js/2.d1b1e148.js" as="script"><link rel="preload" href="/assets/js/31.8c7148f5.js" as="script"><link rel="preload" href="/assets/js/4.a3faee54.js" as="script"><link rel="prefetch" href="/assets/js/10.42124fbe.js"><link rel="prefetch" href="/assets/js/11.bdef2e64.js"><link rel="prefetch" href="/assets/js/12.9c5e83ed.js"><link rel="prefetch" href="/assets/js/13.3db43aaf.js"><link rel="prefetch" href="/assets/js/14.8f2ec86d.js"><link rel="prefetch" href="/assets/js/15.c6286125.js"><link rel="prefetch" href="/assets/js/16.5da2b31d.js"><link rel="prefetch" href="/assets/js/17.c9deef07.js"><link rel="prefetch" href="/assets/js/18.13ed30af.js"><link rel="prefetch" href="/assets/js/19.f1a01180.js"><link rel="prefetch" href="/assets/js/20.30f7288c.js"><link rel="prefetch" href="/assets/js/21.477730e4.js"><link rel="prefetch" href="/assets/js/22.ab119ff1.js"><link rel="prefetch" href="/assets/js/23.9bbc22fc.js"><link rel="prefetch" href="/assets/js/24.cb1899b8.js"><link rel="prefetch" href="/assets/js/25.64669f1d.js"><link rel="prefetch" href="/assets/js/26.f3040183.js"><link rel="prefetch" href="/assets/js/27.2938dd4c.js"><link rel="prefetch" href="/assets/js/28.cd87026d.js"><link rel="prefetch" href="/assets/js/29.b92287f4.js"><link rel="prefetch" href="/assets/js/3.103e70cb.js"><link rel="prefetch" href="/assets/js/30.af43d48f.js"><link rel="prefetch" href="/assets/js/32.d42beb3f.js"><link rel="prefetch" href="/assets/js/33.223bba8e.js"><link rel="prefetch" href="/assets/js/34.04b12083.js"><link rel="prefetch" href="/assets/js/35.19c65fa0.js"><link rel="prefetch" href="/assets/js/36.a1a664b9.js"><link rel="prefetch" href="/assets/js/37.d2e7a2dd.js"><link rel="prefetch" href="/assets/js/38.4f737159.js"><link rel="prefetch" href="/assets/js/39.fcdeadea.js"><link rel="prefetch" href="/assets/js/40.40a9daf9.js"><link rel="prefetch" href="/assets/js/5.2f32d917.js"><link rel="prefetch" href="/assets/js/6.d92ecc16.js"><link rel="prefetch" href="/assets/js/7.a09f8ef2.js"><link rel="prefetch" href="/assets/js/8.5b00daa2.js"><link rel="prefetch" href="/assets/js/9.9d06f44a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6a4803ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端面试知识总结</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/shop/" class="nav-link">
  大型电商
</a></li><li class="dropdown-item"><!----> <a href="/project/music/" class="nav-link">
  vue实现音乐app
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/shop/" class="nav-link">
  大型电商
</a></li><li class="dropdown-item"><!----> <a href="/project/music/" class="nav-link">
  vue实现音乐app
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>目录</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" class="sidebar-link">项目介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>css基础到进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/css/test.html" class="sidebar-link">移动端问题</a></li><li><a href="/guide/css/layout.html" class="sidebar-link">前端常见布局</a></li><li><a href="/guide/css/alwaysCode.html" class="sidebar-link">常用css片段</a></li><li><a href="/guide/css/iconfont.html" class="sidebar-link">全局stylus配置及使用iconfont</a></li><li><a href="/guide/css/css-skill.html" class="sidebar-link">灵活使用css技巧</a></li><li><a href="/guide/css/code.html" class="sidebar-link">code pratice</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/js/base.html" class="sidebar-link">基础</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/js/higher.html" class="sidebar-link">js??</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MVVM分析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/vue/vue.html" class="active sidebar-link">vue 基础部分</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#vue-基础部分" class="sidebar-link">vue 基础部分</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#初始化项目" class="sidebar-link">初始化项目</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#插槽使用" class="sidebar-link">插槽使用</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#动态绑定样式" class="sidebar-link">动态绑定样式</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#动画" class="sidebar-link">动画</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#vue-router" class="sidebar-link">vue-router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#嵌套分配" class="sidebar-link">嵌套分配</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#路由传参" class="sidebar-link">路由传参</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#vuex" class="sidebar-link">vuex</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#使用方法" class="sidebar-link">使用方法</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#写法规范" class="sidebar-link">写法规范</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#vuex语法糖" class="sidebar-link">vuex语法糖</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#高级用法" class="sidebar-link">高级用法</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#vue-cli-环境基本配置" class="sidebar-link">vue-cli 环境基本配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#配置文件路径简写" class="sidebar-link">配置文件路径简写</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#配置api的代理" class="sidebar-link">配置api的代理</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#配置开发环境和线上环境区分" class="sidebar-link">配置开发环境和线上环境区分</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#配置打包的路径" class="sidebar-link">配置打包的路径</a></li><li class="sidebar-sub-header"><a href="/guide/vue/vue.html#结合webpack配置" class="sidebar-link">结合webpack配置</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack实战分析</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node.js基础到进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试题总结</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="vue-基础部分"><a href="#vue-基础部分" class="header-anchor">#</a> vue 基础部分</h2> <p><code>vue</code>基础知识点总结</p> <h3 id="初始化项目"><a href="#初始化项目" class="header-anchor">#</a> 初始化项目</h3> <p>安装 vue-cli 3.x,创建一个<code>vue</code>项目非常简单</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># init</span>
$ vue create xxx

<span class="token comment"># install dependence</span>
<span class="token function">npm</span> i
<span class="token comment"># run</span>
<span class="token function">npm</span> run serve

</code></pre></div><blockquote><p>vue-cli 2.x 创建使用<code>vue init webpack xxxx</code></p></blockquote> <p>一般来说，移动端<code>webapp</code>需要提前做一部分初始化工作。</p> <ul><li>设置媒体标签缩放</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width,initial-scale=1.0 minimum-scale=1.0 maximum-scale=1.0 user-scalable=no<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>安装 <code>fast-click</code>解决点击bug,引入<code>reset.styl</code>,安装部分依赖</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;axios&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.16.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;better-scroll&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.1.15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fastclick&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;good-storage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.54.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylus-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.5.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.5.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vue-lazyload&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vue-router&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vuex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.3.1&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>然后再入口文件中使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> fastclick <span class="token keyword">from</span> <span class="token string">'fastclick'</span>
<span class="token keyword">import</span> VueLazyload <span class="token keyword">from</span> <span class="token string">'vue-lazyload'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store/index'</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueLazyload<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  loading<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./common/image/default.png'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
fastclick<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
</code></pre></div><h3 id="插槽使用"><a href="#插槽使用" class="header-anchor">#</a> 插槽使用</h3> <h3>插槽的基础用法：</h3>
首先声明子组件可以使用插槽
<div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>然后再父组件中引入组件注册后使用,<code>child</code>组件中可以插入任意内容</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>插入内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这里我们使用的插槽是匿名的，下面使用具有名字的插槽</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>child<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>子组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>然后我们在父组件中使用可以指定<code>插入内容部分</code>的<code>slot</code>名
比如:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>插入内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>插入下面的内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3>作用域插槽</h3>
作用于插槽要求，在`slot`上面绑定数据。
<div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>up<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="动态绑定样式"><a href="#动态绑定样式" class="header-anchor">#</a> 动态绑定样式</h3> <ul><li>原生js控制样式写法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> test <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>attributes <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">...</span>
test<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
<span class="token operator">...</span>
test<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span>value<span class="token punctuation">,</span><span class="token string">'important'</span><span class="token punctuation">)</span>

</code></pre></div><ul><li>vue控制样式
<code>style</code> 一般通过拼接的方式，使用驼峰的方式命名属性</li></ul> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token punctuation">{</span><span class="token property">flex</span><span class="token punctuation">:</span><span class="token string">'0 0'</span> + <span class="token punctuation">(</span>100/col<span class="token punctuation">)</span> +<span class="token string">'%'</span><span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 三元表达式控制 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:</span><span class="token style-attr language-css"><span class="token attr-name"><span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token punctuation">{</span><span class="token property">flexDirection</span><span class="token punctuation">:</span> Mode === <span class="token string">'col'</span>? <span class="token string">'row'</span><span class="token punctuation">:</span><span class="token string">'column'</span><span class="token punctuation">}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>class</code>一般通过绑定样式名，动态样式也是通过三元表达式或者直接接表达式绑定</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{'current':currentIndex === index}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{currentIndex === '2'? 'slected':'unselected'}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>还可以通过<code>computed</code>进行动态计算绑定</p></div> <h3 id="动画"><a href="#动画" class="header-anchor">#</a> 动画</h3> <p><code>fade-enter</code> 第一帧 后面被移除
<code>fade-leave</code> 第一帧 后面被移除
<code>fade-enter-active</code> 直到最后一帧
<code>fade-leave-active</code> 直到最后一帧</p> <div class="language-stylus extra-class"><pre class="language-stylus"><code><span class="token selector">&amp;.drop-enter-active<span class="token punctuation">,</span>&amp;.drop-leave-active</span>
    <span class="token property-declaration"><span class="token property">transition</span> all <span class="token number">0.3</span>s</span>
<span class="token selector">&amp;.drop-enter<span class="token punctuation">,</span>&amp;.drop-leave-active</span>
    <span class="token property-declaration"><span class="token property">transform</span> <span class="token func"><span class="token function">translate3d</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">100%</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span></span></span>
</code></pre></div><h2 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> vue-router</h2> <h3 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h3> <p>我们经常需要把某种模式匹配到的所有路由，全都映射到同个组件。例如，我们有一个 <code>User</code> 组件，对于所有 ID 各不相同的用户，都要使用这个组件来渲染。那么，我们可以在 <code>vue-router</code> 的路由路径中使用“动态路径参数”(dynamic segment) 来达到这个效果：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">{</span>
  template<span class="token operator">:</span> <span class="token string">'&lt;div&gt;User&lt;/div&gt;'</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 动态路径参数 以冒号开头</span>
    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">'/user/:id'</span><span class="token punctuation">,</span> component<span class="token operator">:</span> User <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这样就可以通过不同的 id 访问不同的路由页面</p> <blockquote><p>首页重定向<code>redirect</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      redirect<span class="token operator">:</span> <span class="token string">'/recommend'</span>
   <span class="token punctuation">}</span>
</code></pre></div><h3 id="嵌套分配"><a href="#嵌套分配" class="header-anchor">#</a> 嵌套分配</h3> <p>一般情况下,通过设置路由的子路由的参数来达到嵌套分配的效果</p> <div class="custom-block tip"><p class="custom-block-title">推荐</p> <p>通常动态路由采用这种方式</p></div> <ol><li>设置路由的子路由参数,一般情况下都是设置 path(参数),component(跳转的页面)</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token operator">:</span> <span class="token string">'/test'</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'test'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> test<span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          path<span class="token operator">:</span> <span class="token string">':param'</span><span class="token punctuation">,</span>
          component<span class="token operator">:</span> testTo
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>设置完成之后，使用该路由</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>listview<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>listview<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><ol start="3"><li>实现路由的跳转
<blockquote><p>假设传的值是 item 的 id</p></blockquote></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>子组件
<span class="token operator">&lt;</span>dom @click<span class="token operator">=</span><span class="token string">&quot;selectItem(item)&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>dom<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
  methods<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">selectItem</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'select'</span><span class="token punctuation">,</span>item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token operator">...</span><span class="token punctuation">.</span>
父组件
<span class="token operator">&lt;</span>componentName @select<span class="token operator">=</span><span class="token string">&quot;handleselect&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>componentName<span class="token operator">&gt;</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token function">select</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      path<span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/test/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="路由传参"><a href="#路由传参" class="header-anchor">#</a> 路由传参</h3> <ul><li>首先跳转路由方:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/singer'</span><span class="token punctuation">,</span>
  query<span class="token operator">:</span><span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">'hello'</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这样参数中就会有<code>?message=&quot;hello&quot;</code>
或者写在路径中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span><span class="token string">'/user'</span><span class="token punctuation">,</span>
  params<span class="token operator">:</span><span class="token punctuation">{</span>
    userId<span class="token operator">:</span><span class="token string">'123'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>这样跳转的路由就是这样的<code>/user/123</code></p> <ul><li>获取路由参数</li></ul> <p>非常类似于<code>restful</code>的写法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>userId <span class="token operator">=</span> userId
<span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>query<span class="token punctuation">.</span>message <span class="token operator">=</span> message
</code></pre></div><p>综上就可以实现路由跳转到对应的页面,参数可以调,如果学习更多，请参考<a href="https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html#%E5%93%8D%E5%BA%94%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0%E7%9A%84%E5%8F%98%E5%8C%96" target="_blank" rel="noopener noreferrer">vue-router<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h2> <h3 id="使用方法"><a href="#使用方法" class="header-anchor">#</a> 使用方法</h3> <p>一个简单的实例</p> <div class="language-js extra-class"><pre class="language-js"><code>store下面的index<span class="token punctuation">.</span>js
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token comment">//大型应用分开写  actions mutations mutations-type getters index state</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
state<span class="token operator">:</span><span class="token punctuation">{</span>
    city<span class="token operator">:</span><span class="token string">&quot;上海&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
actions<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//外部组件传过来的actions</span>
    <span class="token function">changeCity</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span>city</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'increment'</span><span class="token punctuation">,</span><span class="token string">'city'</span><span class="token punctuation">)</span>
        <span class="token comment">//通常increment被封装在mutations-type中 然后通过import * as a取出</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
mutations<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>city</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>city<span class="token operator">=</span>city
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="写法规范"><a href="#写法规范" class="header-anchor">#</a> 写法规范</h3> <ul><li>首先在store目录下创建以下目录</li></ul> <div class="language-md extra-class"><pre class="language-md"><code>├── store
│   ├── index.js(vuex入口文件)
│   ├── actions.js(异步操作文件)
│   ├── mutations.js(修改state数据文件)
│   ├── mutations-types.js(mutations关联文件)
│   ├── getters.js(获取state数据文件)
│   ├── state.js
</code></pre></div><h3>初始化文件</h3> <br>
state.js
<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span><span class="token punctuation">{</span>
  singer<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> state
</code></pre></div><p>getters.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">singer</span><span class="token operator">=</span><span class="token parameter">state</span><span class="token operator">=&gt;</span>state<span class="token punctuation">.</span>singer<span class="token punctuation">;</span>

</code></pre></div><p>mutations-types.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">SET_SINGER</span><span class="token operator">=</span><span class="token string">'SET_SINGER'</span>
</code></pre></div><p>mutations.js</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">'mutations-types'</span>
<span class="token comment">//* as 通过这样的import就可以避免花括号一个一个引入</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> mutations<span class="token operator">=</span><span class="token punctuation">{</span>
  <span class="token comment">// 常数作为函数名</span>
  <span class="token punctuation">[</span>types<span class="token punctuation">.</span><span class="token constant">SET_SINGER</span><span class="token punctuation">]</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span>singer<span class="token punctuation">)</span><span class="token punctuation">{</span>
    state<span class="token punctuation">.</span>singer<span class="token operator">=</span>singer
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>index.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> state <span class="token keyword">from</span> <span class="token string">'state'</span>
<span class="token keyword">import</span> mutations <span class="token keyword">from</span> <span class="token string">'mutations'</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> getters <span class="token keyword">from</span> <span class="token string">'getters'</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> actions <span class="token keyword">from</span> <span class="token string">'actions'</span>
<span class="token keyword">import</span> createLogger <span class="token keyword">from</span> <span class="token string">'vuex/dist/logger'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token comment">// 生产环境开启 线上不开启</span>
<span class="token keyword">const</span> debug <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  actions<span class="token punctuation">,</span>
  getters<span class="token punctuation">,</span>
  state<span class="token punctuation">,</span>
  mutations<span class="token punctuation">,</span>
  <span class="token comment">// 严格模式</span>
  strict<span class="token operator">:</span> debug<span class="token punctuation">,</span>
  <span class="token comment">// 打印vuex修改state日志</span>
  plugins<span class="token operator">:</span> debug <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token function">createLogger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><ul><li>接下来使用vuex来获取singer对象</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>vuex提供了mapxxx语法堂对每个环节的操作代码进行简化</p></div> <ul><li>main.js引入vuex 引入并注册store即可</li> <li>singer.vue操作</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>mapMutations<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    setSinger<span class="token operator">:</span><span class="token string">'SET_SINGER'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p>这里的的操作是<code>映射</code>，将 this.setSinger映射为 this.$store.commit(SET_SINGER) 简化了代码
然后你直接可以使用setSinger来操作state数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">selectSinger</span><span class="token punctuation">(</span><span class="token parameter">singer</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    path<span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">singer/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>singer<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setSinger</span><span class="token punctuation">(</span>singer<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样就完成了设置store里面数据的操作,接下来就是拿数据</p> <ul><li>singer-detail.vue</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>mapGetters<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
computed<span class="token operator">:</span><span class="token punctuation">{</span>
<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span>
  <span class="token comment">// 之前getters.js里面已经处理过数据,所以不需要添加操作 直接引用既可</span>
  <span class="token punctuation">[</span><span class="token string">'singer'</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><p><code>action.js</code>的作用就是接受异步操作或者批量的同步操作 然后<code>commit</code> <code>action</code>里面的这个函数是外部组件<code>dispatch</code>进来的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">'./mutation-types'</span>
<span class="token comment">//像这种需要改变多次mutation的 就把它封装到action</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">selectplay</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">,</span>state<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>list<span class="token punctuation">,</span>index<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// commit的作用就是告诉vuex需要执行哪一个mutation 传入的参数就是mutation的函数名 还有就是playload</span>
  <span class="token function">commit</span><span class="token punctuation">(</span>types<span class="token punctuation">.</span><span class="token constant">SET_SEQUENCE</span><span class="token punctuation">,</span>list<span class="token punctuation">)</span>
  <span class="token operator">...</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

</code></pre></div><br> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ol><li>定义好初始化文件 <code>store</code>相关</li> <li>使用vuex可以通过语法堂<code>mapxxx</code>进行映射操作</li> <li>数据会自动发生映射 不需要操作</li></ol></div> <p>详细了解vuex,请参考<a href="https://vuex.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">vuex官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
next :封装数据</p> <h3 id="vuex语法糖"><a href="#vuex语法糖" class="header-anchor">#</a> vuex语法糖</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>mapGetters<span class="token punctuation">,</span> mapMutations<span class="token punctuation">,</span> mapActions<span class="token punctuation">}</span><span class="token keyword">from</span> <span class="token string">'vuex'</span>

## getters<span class="token punctuation">.</span>js
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">state</span> <span class="token operator">=</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>fileName

<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">'fileName'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>


## MUtations
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">'mutation-types'</span>

<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>types<span class="token punctuation">.</span><span class="token constant">SET_FILENAME</span><span class="token punctuation">]</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span>filename<span class="token punctuation">)</span><span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>fileName <span class="token operator">=</span> filename
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> mutations

<span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    setFileName<span class="token operator">:</span><span class="token string">'SET_FILENAME'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
调用 <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setFileName</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>


## actions
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">'mutation-types'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function">selectFileName</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">,</span>state<span class="token punctuation">}</span><span class="token punctuation">,</span>song</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">commit</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token constant">SET_PLAYLIST</span><span class="token punctuation">,</span>playlist<span class="token punctuation">)</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string">'selectFileName'</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
  调用 <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">selectFileName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="高级用法"><a href="#高级用法" class="header-anchor">#</a> 高级用法</h3> <p>如果每个页面都要去引入语法堂使用<code>vuex</code>就显得很麻烦，我们可以借助vue的<code>mixin</code>的作用插入公共的代码片段达到引入的作用</p> <p>首先定义好<code>mixin.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mapGetters<span class="token punctuation">,</span> mapMutations <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> bookmixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      fontFamilylist<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;Default&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;思源粗黑体&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;思源宋体&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;硬楷体&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;狂草体&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;逐浪丫玉体&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;cabin&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;dayOne&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;montserrat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> font<span class="token operator">:</span> <span class="token string">&quot;tangerine&quot;</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;fileName&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;menuVisable&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;selectedNum&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;CurrentBook&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;defaultFontSize&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;defaultFontFamily&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;fontFamilyVisible&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;defaultTheme&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;bookAvailable&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;section&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;progress&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;metadata&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;navigation&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;cover&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;offsetY&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;time&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      setFileName<span class="token operator">:</span> <span class="token string">&quot;SET_FILENAME&quot;</span><span class="token punctuation">,</span>
      setmenu<span class="token operator">:</span> <span class="token string">&quot;SET_MENU&quot;</span><span class="token punctuation">,</span>
      setSelectNum<span class="token operator">:</span> <span class="token string">&quot;SET_SELECTNUM&quot;</span><span class="token punctuation">,</span>
      setBook<span class="token operator">:</span> <span class="token string">&quot;SET_CURRENTBOOK&quot;</span><span class="token punctuation">,</span>
      setfonytsize<span class="token operator">:</span> <span class="token string">&quot;SET_DEFAULTFONT&quot;</span><span class="token punctuation">,</span>
      setfontfamily<span class="token operator">:</span> <span class="token string">&quot;SET_DEFAULTFONTFAMILY&quot;</span><span class="token punctuation">,</span>
      setfamilyVisible<span class="token operator">:</span> <span class="token string">&quot;FAMILY_VISIBLE&quot;</span><span class="token punctuation">,</span>
      settheme<span class="token operator">:</span> <span class="token string">&quot;SET_THEME&quot;</span><span class="token punctuation">,</span>
      setProgressFinished<span class="token operator">:</span> <span class="token string">&quot;SET_BOOKFIN&quot;</span><span class="token punctuation">,</span>
      setsection<span class="token operator">:</span> <span class="token string">&quot;SET_SECTION&quot;</span><span class="token punctuation">,</span>
      setprogressValue<span class="token operator">:</span> <span class="token string">&quot;SET_RPOGRESS&quot;</span><span class="token punctuation">,</span>
      setnavigation<span class="token operator">:</span> <span class="token string">&quot;SET_NAV&quot;</span><span class="token punctuation">,</span>
      setmetadata<span class="token operator">:</span> <span class="token string">&quot;SET_METADATA&quot;</span><span class="token punctuation">,</span>
      setcover<span class="token operator">:</span> <span class="token string">&quot;SET_COVER&quot;</span><span class="token punctuation">,</span>
      setOffsetY<span class="token operator">:</span> <span class="token string">&quot;SET_OFFSETY&quot;</span><span class="token punctuation">,</span>
      settime<span class="token operator">:</span> <span class="token string">&quot;SET_TIME&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 设置主题方法注册为mixin 因为多处复用</span>
    <span class="token comment">/**
     * 点击后的逻辑大概这样: 1.设置vuex theme 2.this.redition.themes设置epub主题 3.保存storage
     * @param {*} theme
     */</span>
    <span class="token comment">// setTheme(theme) {</span>
    <span class="token comment">//   this.settheme(theme).then(() =&gt; {</span>
    <span class="token comment">//     this.switchTheme();</span>
    <span class="token comment">//     this.saveTheme(this.fileName, theme);</span>
    <span class="token comment">//   });</span>
    <span class="token comment">// }</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>然后再页面中导入文件，然后使用<code>mixins: [ebookMixin]</code></p> <h2 id="vue-cli-环境基本配置"><a href="#vue-cli-环境基本配置" class="header-anchor">#</a> vue-cli 环境基本配置</h2> <h3 id="配置文件路径简写"><a href="#配置文件路径简写" class="header-anchor">#</a> 配置文件路径简写</h3> <h3 id="配置api的代理"><a href="#配置api的代理" class="header-anchor">#</a> 配置api的代理</h3> <h3 id="配置开发环境和线上环境区分"><a href="#配置开发环境和线上环境区分" class="header-anchor">#</a> 配置开发环境和线上环境区分</h3> <h3 id="配置打包的路径"><a href="#配置打包的路径" class="header-anchor">#</a> 配置打包的路径</h3> <h3 id="结合webpack配置"><a href="#结合webpack配置" class="header-anchor">#</a> 结合webpack配置</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last update:</span> <span class="time">5/10/2020, 10:56:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/js/higher.html" class="prev">
        js??
      </a></span> <span class="next"><a href="/guide/webpack/test.html">
        webpack 4.0 学习
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.81dd3622.js" defer></script><script src="/assets/js/2.d1b1e148.js" defer></script><script src="/assets/js/31.8c7148f5.js" defer></script><script src="/assets/js/4.a3faee54.js" defer></script>
  </body>
</html>
